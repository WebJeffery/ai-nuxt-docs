---
title: Nuxt4 æ ¸å¿ƒåŸºç¡€
description: æ·±å…¥ç†è§£Nuxt3æ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µã€æ¶æ„è®¾è®¡å’ŒåŸºæœ¬åŸç†ï¼Œä¸ºä¼ä¸šçº§AIåº”ç”¨å¼€å‘æ‰“ä¸‹åšå®åŸºç¡€
icon: 'lucide:layers'
---

## ğŸ¯ Nuxt4 æ¦‚è§ˆ

**Nuxt4** æ˜¯ä¸€ä¸ªåŸºäºVue.jsçš„å…¨æ ˆæ¡†æ¶ï¼Œä¸“ä¸ºç°ä»£åŒ–Webåº”ç”¨è€Œè®¾è®¡ã€‚å®ƒæä¾›äº†å¼€ç®±å³ç”¨çš„SSRã€SSGã€CSRç­‰å¤šç§æ¸²æŸ“æ¨¡å¼ï¼ŒåŒæ—¶å†…ç½®äº†è·¯ç”±ã€çŠ¶æ€ç®¡ç†ã€SEOä¼˜åŒ–ç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚

::alert{icon="lucide:info" color="blue"}
**ä¸ºä»€ä¹ˆé€‰æ‹©Nuxt3ï¼Ÿ**
- ğŸš€ **å¼€ç®±å³ç”¨**: æ— éœ€å¤æ‚é…ç½®å³å¯å¼€å§‹å¼€å‘
- ğŸ¨ **çµæ´»æ¸²æŸ“**: æ”¯æŒSSRã€SSGã€CSRç­‰å¤šç§æ¸²æŸ“æ¨¡å¼
- ğŸ“± **å“åº”å¼å¼€å‘**: åŸºäºVue3çš„ç°ä»£åŒ–ç»„ä»¶å¼€å‘
- ğŸ”§ **ä¼ä¸šçº§**: å†…ç½®TypeScriptã€è‡ªåŠ¨å¯¼å…¥ã€æ¨¡å—åŒ–ç­‰ç‰¹æ€§
::

## ğŸ—ï¸ Nuxt4 æ ¸å¿ƒæ¶æ„

### åº”ç”¨æ¶æ„æ¦‚è§ˆ

```mermaid
graph TD
    A[ç”¨æˆ·è¯·æ±‚] --> B[Nuxt Server]
    B --> C{æ¸²æŸ“æ¨¡å¼}
    C -->|SSR| D[æœåŠ¡ç«¯æ¸²æŸ“]
    C -->|SSG| E[é™æ€ç”Ÿæˆ]
    C -->|SPA| F[å®¢æˆ·ç«¯æ¸²æŸ“]
    D --> G[HTMLå“åº”]
    E --> G
    F --> H[JavaScriptå“åº”]
    G --> I[æµè§ˆå™¨æ˜¾ç¤º]
    H --> I
```

### æ¸²æŸ“æ¦‚å¿µè§£æ

Nuxt3æä¾›äº†ä¸‰ç§ä¸»è¦çš„æ¸²æŸ“æ¨¡å¼,äº†è§£å®ƒä»¬çš„å·®å¼‚å’Œåº”ç”¨åœºæ™¯:

:::card-group{cols=3}
  ::::card{icon="lucide:server"}
  #title
  **æœåŠ¡ç«¯æ¸²æŸ“ (SSR)**
  #description
  åœ¨æœåŠ¡å™¨ç«¯å®Œæˆé¡µé¢æ¸²æŸ“,è¿”å›å®Œæ•´HTMLç»™æµè§ˆå™¨

  **ä¼˜åŠ¿:**
  - æ›´å¥½çš„SEOè¡¨ç°
  - æ›´å¿«çš„é¦–å±åŠ è½½
  - é€‚åˆåŠ¨æ€å†…å®¹

  **é€‚ç”¨åœºæ™¯:**
  - å†…å®¹é¢‘ç¹æ›´æ–°
  - éœ€è¦SEOçš„é¡µé¢
  - ä¸ªæ€§åŒ–å†…å®¹å±•ç¤º

  ```typescript
  // nuxt.config.ts
  export default defineNuxtConfig({
    ssr: true, // é»˜è®¤å¼€å¯
    routeRules: {
      '/dashboard': { ssr: true }
    }
  });
  ```
  ::::

  ::::card{icon="lucide:zap"}
  #title
  **é™æ€ç”Ÿæˆ (SSG)**
  #description
  æ„å»ºæ—¶é¢„æ¸²æŸ“é¡µé¢,ç”Ÿæˆé™æ€HTMLæ–‡ä»¶

  **ä¼˜åŠ¿:**
  - æè‡´çš„åŠ è½½æ€§èƒ½
  - ä½æœåŠ¡å™¨å‹åŠ›
  - å¯éƒ¨ç½²åˆ°CDN

  **é€‚ç”¨åœºæ™¯:**
  - è¥é”€é¡µé¢
  - æ–‡æ¡£ç«™ç‚¹
  - å†…å®¹å˜åŒ–ä¸é¢‘ç¹

  ```typescript
  // nuxt.config.ts
  export default defineNuxtConfig({
    nitro: {
      prerender: {
        routes: ['/about', '/posts/*'],
        crawlLinks: true,
        ignore: ['/admin']
      }
    }
  });
  ```
  ::::

  ::::card{icon="lucide:monitor"}
  #title
  **å®¢æˆ·ç«¯æ¸²æŸ“ (CSR)**
  #description
  åœ¨æµè§ˆå™¨ç«¯å®Œæˆé¡µé¢æ¸²æŸ“,æœåŠ¡ç«¯åªè¿”å›åŸºç¡€HTML

  **ä¼˜åŠ¿:**
  - æ›´å¥½çš„äº¤äº’ä½“éªŒ
  - å‡è½»æœåŠ¡å™¨è´Ÿæ‹…
  - é€‚åˆSPAåº”ç”¨

  **é€‚ç”¨åœºæ™¯:**
  - åå°ç®¡ç†ç³»ç»Ÿ
  - æ•°æ®å¯è§†åŒ–
  - é‡äº¤äº’åº”ç”¨

  ```typescript
  // nuxt.config.ts
  export default defineNuxtConfig({
    routeRules: {
      '/admin/**': { ssr: false }
    }
  });
  ```
  ::::
:::

## ğŸ“ é¡¹ç›®ç»“æ„è¯¦è§£

Nuxt3éµå¾ªçº¦å®šä¼˜äºé…ç½®çš„åŸåˆ™ï¼Œæä¾›äº†æ¸…æ™°çš„ç›®å½•ç»“æ„ï¼š

```
nuxt-app/
â”œâ”€â”€ ğŸ“ .nuxt/              # è‡ªåŠ¨ç”Ÿæˆçš„æ„å»ºæ–‡ä»¶
â”œâ”€â”€ ğŸ“ .output/            # ç”Ÿäº§æ„å»ºè¾“å‡º
â”œâ”€â”€ ğŸ“ assets/             # éœ€è¦å¤„ç†çš„èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ css/              # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ images/           # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ fonts/            # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ ğŸ“ components/         # Vueç»„ä»¶
â”‚   â”œâ”€â”€ global/           # å…¨å±€ç»„ä»¶ (è‡ªåŠ¨å¯¼å…¥)
â”‚   â””â”€â”€ ui/               # UIç»„ä»¶
â”œâ”€â”€ ğŸ“ composables/        # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useAuth.ts        # è®¤è¯é€»è¾‘
â”‚   â”œâ”€â”€ useApi.ts         # APIè¯·æ±‚
â”‚   â””â”€â”€ useState.ts       # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ ğŸ“ content/            # Nuxt Contentæ–‡ä»¶
â”œâ”€â”€ ğŸ“ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ default.vue       # é»˜è®¤å¸ƒå±€
â”‚   â””â”€â”€ admin.vue         # ç®¡ç†åå°å¸ƒå±€
â”œâ”€â”€ ğŸ“ middleware/         # è·¯ç”±ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ auth.ts           # è®¤è¯ä¸­é—´ä»¶
â”‚   â””â”€â”€ redirect.ts       # é‡å®šå‘é€»è¾‘
â”œâ”€â”€ ğŸ“ pages/              # é¡µé¢æ–‡ä»¶ (æ–‡ä»¶ç³»ç»Ÿè·¯ç”±)
â”‚   â”œâ”€â”€ index.vue         # é¦–é¡µ (/)
â”‚   â”œâ”€â”€ about.vue         # å…³äºé¡µé¢ (/about)
â”‚   â””â”€â”€ admin/
â”‚       â””â”€â”€ index.vue     # ç®¡ç†é¦–é¡µ (/admin)
â”œâ”€â”€ ğŸ“ plugins/            # æ’ä»¶æ–‡ä»¶
â”‚   â”œâ”€â”€ api.client.ts     # å®¢æˆ·ç«¯APIæ’ä»¶
â”‚   â””â”€â”€ auth.server.ts    # æœåŠ¡ç«¯è®¤è¯æ’ä»¶
â”œâ”€â”€ ğŸ“ public/             # é™æ€æ–‡ä»¶ (ç›´æ¥è®¿é—®)
â”œâ”€â”€ ğŸ“ server/             # æœåŠ¡å™¨ç«¯ä»£ç 
â”‚   â”œâ”€â”€ api/              # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/         # è®¤è¯API
â”‚   â”‚   â””â”€â”€ users.get.ts  # ç”¨æˆ·API
â”‚   â”œâ”€â”€ middleware/       # æœåŠ¡å™¨ä¸­é—´ä»¶
â”‚   â””â”€â”€ utils/            # æœåŠ¡å™¨å·¥å…·
â”œâ”€â”€ ğŸ“ stores/             # PiniaçŠ¶æ€ç®¡ç†
â”œâ”€â”€ ğŸ“ utils/              # å·¥å…·å‡½æ•° (è‡ªåŠ¨å¯¼å…¥)
â”œâ”€â”€ ğŸ“„ app.vue             # æ ¹ç»„ä»¶
â”œâ”€â”€ ğŸ“„ nuxt.config.ts      # Nuxté…ç½®æ–‡ä»¶
â””â”€â”€ ğŸ“„ package.json        # é¡¹ç›®ä¾èµ–
```

### ğŸ”„ è‡ªåŠ¨å¯¼å…¥æœºåˆ¶

Nuxt3æä¾›äº†å¼ºå¤§çš„è‡ªåŠ¨å¯¼å…¥åŠŸèƒ½ï¼Œè®©å¼€å‘æ›´åŠ ç®€æ´ï¼š

::code-group
```vue [pages/index.vue]
<template>
  <div>
    <!-- ç»„ä»¶è‡ªåŠ¨å¯¼å…¥ -->
    <UiButton @click="handleClick">
      ç‚¹å‡»æˆ‘
    </UiButton>

    <!-- å¸ƒå±€è‡ªåŠ¨åº”ç”¨ -->
    <UserProfile :user="user" />
  </div>
</template>

<script setup>
// ç»„åˆå¼å‡½æ•°è‡ªåŠ¨å¯¼å…¥
const { user } = useAuth();
const { $api } = useNuxtApp();

// å·¥å…·å‡½æ•°è‡ªåŠ¨å¯¼å…¥
function handleClick() {
  navigateTo('/dashboard');
}

// å“åº”å¼æ•°æ®è‡ªåŠ¨å¯¼å…¥
const count = ref(0);
const doubled = computed(() => count.value * 2);
</script>
```

```typescript [composables/useAuth.ts]
// è‡ªåŠ¨å¯¼å…¥çš„ç»„åˆå¼å‡½æ•°
export function useAuth() {
  const user = useState('auth.user', () => null);

  const login = async (credentials) => {
    // ç™»å½•é€»è¾‘
    const response = await $fetch('/api/auth/login', {
      method: 'POST',
      body: credentials
    });
    user.value = response.user;
  };

  const logout = () => {
    user.value = null;
    navigateTo('/login');
  };

  return {
    user: readonly(user),
    login,
    logout
  };
}
```
::

## ğŸ¨ é¡µé¢å’Œè·¯ç”±ç³»ç»Ÿ

### æ–‡ä»¶ç³»ç»Ÿè·¯ç”±

Nuxt3ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆè·¯ç”±ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ï¼š

```
pages/
â”œâ”€â”€ index.vue           # / (æ ¹è·¯ç”±)
â”œâ”€â”€ about.vue           # /about
â”œâ”€â”€ contact.vue         # /contact
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ index.vue       # /blog
â”‚   â”œâ”€â”€ [slug].vue      # /blog/:slug (åŠ¨æ€è·¯ç”±)
â”‚   â””â”€â”€ [...tags].vue   # /blog/* (é€šé…ç¬¦è·¯ç”±)
â”œâ”€â”€ user/
â”‚   â”œâ”€â”€ [id].vue        # /user/:id
â”‚   â””â”€â”€ settings/
â”‚       â”œâ”€â”€ index.vue   # /user/settings
â”‚       â””â”€â”€ profile.vue # /user/settings/profile
â””â”€â”€ admin/
    â”œâ”€â”€ index.vue       # /admin
    â””â”€â”€ [[...slug]].vue # /admin/** (å¯é€‰åŠ¨æ€è·¯ç”±)
```

### åŠ¨æ€è·¯ç”±å®ä¾‹

::code-group
```vue [pages/blog/[slug].vue]
<template>
  <div>
    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>
  </div>
</template>

<script setup>
// è·å–è·¯ç”±å‚æ•°
const route = useRoute();
const slug = route.params.slug;

// æœåŠ¡ç«¯æ•°æ®è·å–
const { data: post } = await useFetch(`/api/posts/${slug}`);

// SEOä¼˜åŒ–
useSeoMeta({
  title: post.value.title,
  description: post.value.excerpt
});
</script>
```

```vue [pages/user/[id]/settings.vue]
<template>
  <div>
    <h2>ç”¨æˆ·è®¾ç½®</h2>
    <UserForm :user="user" @save="updateUser" />
  </div>
</template>

<script setup>
const route = useRoute();
const userId = route.params.id;

// ä¸­é—´ä»¶ä¿æŠ¤
definePageMeta({
  middleware: 'auth'
});

// æ•°æ®è·å–
const { data: user } = await useFetch(`/api/users/${userId}`);

async function updateUser(userData) {
  await $fetch(`/api/users/${userId}`, {
    method: 'PUT',
    body: userData
  });

  // åˆ·æ–°æ•°æ®
  await refreshCookie('user');
}
</script>
```
::

## ğŸ”Œ æœåŠ¡å™¨ç«¯API

Nuxt3æä¾›äº†å†…ç½®çš„æœåŠ¡å™¨ç«¯APIåŠŸèƒ½ï¼Œå¯ä»¥åˆ›å»ºå…¨æ ˆåº”ç”¨ï¼š

### APIè·¯ç”±ç»“æ„

```
server/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ login.post.ts    # POST /api/auth/login
â”‚   â”‚   â””â”€â”€ logout.delete.ts # DELETE /api/auth/logout
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ index.get.ts     # GET /api/users
â”‚   â”‚   â”œâ”€â”€ index.post.ts    # POST /api/users
â”‚   â”‚   â””â”€â”€ [id].get.ts      # GET /api/users/:id
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ chat.post.ts     # POST /api/ai/chat
â”‚       â””â”€â”€ generate.post.ts # POST /api/ai/generate
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.ts              # æœåŠ¡å™¨ä¸­é—´ä»¶
â””â”€â”€ utils/
    â”œâ”€â”€ db.ts                # æ•°æ®åº“å·¥å…·
    â””â”€â”€ jwt.ts               # JWTå·¥å…·
```

### APIå®ç°ç¤ºä¾‹

::code-group
```typescript [server/api/ai/chat.post.ts]
import { OpenAI } from 'openai';

const openai = new OpenAI({
  apiKey: useRuntimeConfig().openaiApiKey
});

export default defineEventHandler(async (event) => {
  // è¯·æ±‚ä½“éªŒè¯
  const body = await readBody(event);
  const { message, conversation } = body;

  if (!message) {
    throw createError({
      statusCode: 400,
      statusMessage: 'Message is required'
    });
  }

  try {
    // AIæœåŠ¡è°ƒç”¨
    const completion = await openai.chat.completions.create({
      model: 'gpt-4-turbo-preview',
      messages: [
        ...conversation,
        { role: 'user', content: message }
      ],
      temperature: 0.7,
      max_tokens: 1000
    });

    return {
      success: true,
      response: completion.choices[0].message.content
    };
  } catch (error) {
    throw createError({
      statusCode: 500,
      statusMessage: 'AI service error'
    });
  }
});
```

```typescript [server/api/users/[id].get.ts]
import jwt from 'jsonwebtoken';
import { getUserById } from '~/server/utils/db';

export default defineEventHandler(async (event) => {
  // è®¤è¯æ£€æŸ¥
  const token = getCookie(event, 'auth-token') || getHeader(event, 'authorization');

  if (!token) {
    throw createError({
      statusCode: 401,
      statusMessage: 'Unauthorized'
    });
  }

  try {
    // éªŒè¯JWT
    const { userId } = jwt.verify(token, useRuntimeConfig().jwtSecret);
    const requestedId = getRouterParam(event, 'id');

    // æƒé™æ£€æŸ¥
    if (userId !== requestedId) {
      throw createError({
        statusCode: 403,
        statusMessage: 'Forbidden'
      });
    }

    // è·å–ç”¨æˆ·æ•°æ®
    const user = await getUserById(requestedId);

    if (!user) {
      throw createError({
        statusCode: 404,
        statusMessage: 'User not found'
      });
    }

    // è¿”å›å®‰å…¨çš„ç”¨æˆ·æ•°æ®
    const { password, ...safeUser } = user;
    return safeUser;
  } catch (error) {
    throw createError({
      statusCode: 401,
      statusMessage: 'Invalid token'
    });
  }
});
```
::

## ğŸ­ å¸ƒå±€ç³»ç»Ÿ

### å¸ƒå±€ç»„ä»¶

å¸ƒå±€ç»„ä»¶å®šä¹‰äº†é¡µé¢çš„é€šç”¨ç»“æ„ï¼š

::code-group
```vue [layouts/default.vue]
<template>
  <div class="min-h-screen bg-background">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header class="border-b bg-background/95 backdrop-blur">
      <div class="container flex h-16 items-center space-x-4">
        <Logo />
        <MainNav />
        <div class="ml-auto flex items-center space-x-4">
          <UserMenu />
          <ThemeToggle />
        </div>
      </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="flex-1">
      <slot />
    </main>

    <!-- é¡µè„š -->
    <footer class="border-t">
      <div class="container py-8">
        <FooterContent />
      </div>
    </footer>
  </div>
</template>

<script setup>
// å…¨å±€çŠ¶æ€
const { user } = useAuth();

// SEOè®¾ç½®
useHead({
  titleTemplate: '%s - Nuxt4 AIä¼ä¸šçº§åº”ç”¨',
  meta: [
    { name: 'viewport', content: 'width=device-width, initial-scale=1' }
  ]
});
</script>
```

```vue [layouts/admin.vue]
<template>
  <div class="min-h-screen bg-gray-50">
    <!-- ä¾§è¾¹æ  -->
    <aside class="fixed inset-y-0 left-0 w-64 bg-white shadow-lg">
      <AdminSidebar />
    </aside>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="ml-64">
      <!-- é¡¶éƒ¨æ  -->
      <header class="bg-white shadow-sm border-b">
        <AdminHeader />
      </header>

      <!-- é¡µé¢å†…å®¹ -->
      <main class="p-6">
        <slot />
      </main>
    </div>
  </div>
</template>

<script setup>
// ç®¡ç†å‘˜æƒé™æ£€æŸ¥
definePageMeta({
  middleware: 'admin'
});

// ç®¡ç†åå°ç‰¹å®šçš„è®¾ç½®
useHead({
  titleTemplate: '%s - ç®¡ç†åå°'
});
</script>
```
::

### é¡µé¢ä¸­ä½¿ç”¨å¸ƒå±€

```vue [pages/admin/dashboard.vue]
<template>
  <div>
    <h1>ä»ªè¡¨æ¿</h1>
    <DashboardStats />
    <RecentActivity />
  </div>
</template>

<script setup>
// æŒ‡å®šä½¿ç”¨adminå¸ƒå±€
definePageMeta({
  layout: 'admin'
});
</script>
```

## ğŸ”„ ä¸­é—´ä»¶ç³»ç»Ÿ

ä¸­é—´ä»¶å…è®¸ä½ åœ¨é¡µé¢æ¸²æŸ“å‰æ‰§è¡Œä»£ç ï¼š

::code-group
```typescript [middleware/auth.ts]
// è®¤è¯ä¸­é—´ä»¶
export default defineNuxtRouteMiddleware((to, from) => {
  const { user } = useAuth();

  // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•
  if (!user.value) {
    return navigateTo('/login');
  }
});
```

```typescript [middleware/admin.ts]
// ç®¡ç†å‘˜æƒé™ä¸­é—´ä»¶
export default defineNuxtRouteMiddleware((to, from) => {
  const { user } = useAuth();

  // æ£€æŸ¥ç®¡ç†å‘˜æƒé™
  if (!user.value || user.value.role !== 'admin') {
    throw createError({
      statusCode: 403,
      statusMessage: 'Access Denied'
    });
  }
});
```

```typescript [middleware/redirect.global.ts]
// å…¨å±€ä¸­é—´ä»¶ (è‡ªåŠ¨åº”ç”¨åˆ°æ‰€æœ‰è·¯ç”±)
export default defineNuxtRouteMiddleware((to, from) => {
  // è®°å½•é¡µé¢è®¿é—®
  if (process.client) {
    console.log(`Navigating from ${from.path} to ${to.path}`);
  }

  // æ—§è·¯å¾„é‡å®šå‘
  if (to.path === '/old-page') {
    return navigateTo('/new-page', { redirectCode: 301 });
  }
});
```
::

## ğŸ’¾ çŠ¶æ€ç®¡ç†

### useState (å†…ç½®çŠ¶æ€)

```typescript [composables/useAppState.ts]
// åº”ç”¨çº§çŠ¶æ€ç®¡ç†
export function useAppState() {
  // å…¨å±€çŠ¶æ€
  const isLoading = useState('app.loading', () => false);
  const notifications = useState('app.notifications', () => []);

  // æ–¹æ³•
  const addNotification = (notification) => {
    notifications.value.push({
      id: Date.now(),
      ...notification
    });
  };

  const removeNotification = (id) => {
    const index = notifications.value.findIndex(n => n.id === id);
    if (index > -1) {
      notifications.value.splice(index, 1);
    }
  };

  return {
    isLoading,
    notifications: readonly(notifications),
    addNotification,
    removeNotification
  };
}
```

### Piniaé›†æˆ

```typescript [stores/user.ts]
import { defineStore } from 'pinia';

export const useUserStore = defineStore('user', () => {
  // çŠ¶æ€
  const user = ref(null);
  const preferences = ref({
    theme: 'system',
    language: 'zh-CN'
  });

  // è®¡ç®—å±æ€§
  const isLoggedIn = computed(() => !!user.value);
  const displayName = computed(() => {
    return user.value?.name || user.value?.email || 'Guest';
  });

  // åŠ¨ä½œ
  const setUser = (userData) => {
    user.value = userData;
  };

  const updatePreferences = (newPrefs) => {
    preferences.value = { ...preferences.value, ...newPrefs };
  };

  const logout = () => {
    user.value = null;
    navigateTo('/login');
  };

  return {
    user,
    preferences,
    isLoggedIn,
    displayName,
    setUser,
    updatePreferences,
    logout
  };
});
```

## ğŸ”§ é…ç½®å’Œæ‰©å±•

### Nuxtæ¨¡å—

```typescript [nuxt.config.ts]
export default defineNuxtConfig({
  // æ‰©å±•æ¨¡å—
  modules: [
    '@nuxtjs/tailwindcss', // Tailwind CSS
    '@pinia/nuxt', // çŠ¶æ€ç®¡ç†
    '@nuxtjs/color-mode', // ä¸»é¢˜åˆ‡æ¢
    '@vueuse/nuxt', // VueUseå·¥å…·åº“
    '@nuxt/content', // å†…å®¹ç®¡ç†
    '@nuxt/image', // å›¾ç‰‡ä¼˜åŒ–
  ],

  // æ¨¡å—é…ç½®
  colorMode: {
    preference: 'system',
    fallback: 'light',
    hid: 'nuxt-color-mode-script',
    globalName: '__NUXT_COLOR_MODE__',
    componentName: 'ColorScheme',
    classPrefix: '',
    classSuffix: '',
    storageKey: 'nuxt-color-mode'
  },

  // è‡ªåŠ¨å¯¼å…¥é…ç½®
  imports: {
    dirs: [
      'composables',
      'utils',
      'stores'
    ]
  }
});
```

## ğŸ¯ æœ€ä½³å®è·µ

::alert{icon="lucide:lightbulb" color="blue"}
### ğŸŒŸ Nuxt3å¼€å‘å»ºè®®

1. **åˆç†ä½¿ç”¨SSR/SSG**: æ ¹æ®é¡µé¢ç‰¹æ€§é€‰æ‹©æ¸²æŸ“æ¨¡å¼
2. **å……åˆ†åˆ©ç”¨è‡ªåŠ¨å¯¼å…¥**: å‡å°‘æ ·æ¿ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡
3. **æ¨¡å—åŒ–å¼€å‘**: ä½¿ç”¨ç»„åˆå¼å‡½æ•°å°è£…ä¸šåŠ¡é€»è¾‘
4. **æ€§èƒ½ä¼˜åŒ–**: åˆç†ä½¿ç”¨`useLazyFetch`å’ŒåŠ¨æ€å¯¼å…¥
5. **SEOå‹å¥½**: ä½¿ç”¨`useSeoMeta`å’Œç»“æ„åŒ–æ•°æ®
6. **ç±»å‹å®‰å…¨**: å……åˆ†åˆ©ç”¨TypeScriptç±»å‹æ¨å¯¼
::

## ğŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ 

æŒæ¡äº†Nuxt3åŸºç¡€æ¦‚å¿µåï¼Œå»ºè®®ç»§ç»­å­¦ä¹ ï¼š

:::card-group{cols=2}
  ::::card{icon="lucide:code"}
  #title
  [Vue3 ç»„åˆå¼API](/getting-started/writing/vue3-composition-api)
  #description
  æ·±å…¥å­¦ä¹ Vue3çš„ç°ä»£åŒ–å¼€å‘æ¨¡å¼
  ::::

  ::::card{icon="lucide:type"}
  #title
  [TypeScript é›†æˆ](/getting-started/writing/typescript-integration)
  #description
  æŒæ¡TypeScriptåœ¨Nuxt3ä¸­çš„æœ€ä½³å®è·µ
  ::::
:::
