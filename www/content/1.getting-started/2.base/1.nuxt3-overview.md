---
title: Nuxt3 æ¡†æ¶æ¦‚è¿°
description: å…¨é¢äº†è§£Nuxt3çš„å‘å±•å†ç¨‹ã€æ ¸å¿ƒç‰¹ç‚¹ä¸ä¼˜åŠ¿ï¼ŒæŒæ¡ç°ä»£åŒ–å…¨æ ˆæ¡†æ¶çš„ç²¾é«“
icon: 'lucide:code'
---

## ğŸ¯ æ¦‚è¿°

Nuxt3 æ˜¯åŸºäº Vue 3 çš„ç°ä»£åŒ–å…¨æ ˆæ¡†æ¶ï¼Œå®ƒç»§æ‰¿äº† Nuxt.js çš„ä¼˜ç§€ä¼ ç»Ÿï¼ŒåŒæ—¶å¸¦æ¥äº†é©å‘½æ€§çš„æ”¹è¿›ã€‚ä½œä¸ºæ–°ä¸€ä»£çš„ Vue åº”ç”¨æ¡†æ¶ï¼ŒNuxt3 ä¸ºå¼€å‘è€…æä¾›äº†æ›´å¼ºå¤§çš„åŠŸèƒ½ã€æ›´å¥½çš„æ€§èƒ½å’Œæ›´ä¼˜é›…çš„å¼€å‘ä½“éªŒã€‚

::alert{icon="lucide:info" color="blue"}
**æ ¸å¿ƒç†å¿µ**: Nuxt3 è‡´åŠ›äºè®© Vue å¼€å‘å˜å¾—æ›´ç®€å•ã€æ›´é«˜æ•ˆã€æ›´ç°ä»£åŒ–ï¼ŒåŒæ—¶ä¿æŒæ¡†æ¶çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚
::

## 1.1 ä»€ä¹ˆæ˜¯ Nuxt.js åŠå…¶å‘å±•å†ç¨‹å›é¡¾

### ğŸŒ± Nuxt.js çš„èµ·æºä¸ä½¿å‘½

Nuxt.js è¯ç”Ÿäº 2016 å¹´ï¼Œå®ƒçš„è¯ç”ŸèƒŒæ™¯æ˜¯ä¸ºäº†è§£å†³ Vue.js åœ¨æ„å»ºé€šç”¨åº”ç”¨æ—¶çš„å¤æ‚æ€§é—®é¢˜ã€‚

::card-group{cols=2}
  ::::card{icon="lucide:target"}
  #title
  **åˆ›å»ºåˆè¡·**
  #description
  ç®€åŒ– Vue.js é€šç”¨åº”ç”¨çš„å¼€å‘æµç¨‹ï¼Œæä¾›å¼€ç®±å³ç”¨çš„ SSR è§£å†³æ–¹æ¡ˆ
  ::::

  ::::card{icon="lucide:rocket"}
  #title
  **æ ¸å¿ƒä½¿å‘½**
  #description
  è®©å¼€å‘è€…ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯é…ç½®å’Œå·¥å…·é“¾çš„æ­å»º
  ::::
::

### ğŸ“ˆ ç‰ˆæœ¬æ¼”è¿›å†ç¨‹

è®©æˆ‘ä»¬å›é¡¾ Nuxt.js çš„é‡è¦å‘å±•èŠ‚ç‚¹ï¼š

| æ—¶é—´ | ç‰ˆæœ¬ | ä¸»è¦ç‰¹æ€§ |
|------|------|----------|
| 2016å¹´10æœˆ | **Nuxt.js 1.0 å‘å¸ƒ** | - åŸºäº Vue 2.x å’Œ Webpack 2<br>- æä¾›åŸºç¡€çš„ SSR åŠŸèƒ½<br>- å¼•å…¥çº¦å®šå¤§äºé…ç½®çš„ç†å¿µ<br>- æ”¯æŒè‡ªåŠ¨è·¯ç”±ç”Ÿæˆ |
| 2018å¹´1æœˆ | **Nuxt.js 2.0 é‡å¤§æ›´æ–°** | - å‡çº§åˆ° Vue 2.5+ å’Œ Webpack 4<br>- å¼•å…¥ Nuxt.js æ¨¡å—ç³»ç»Ÿ<br>- æ”¯æŒ TypeScript<br>- æ€§èƒ½æ˜¾è‘—æå‡<br>- å¢å¼ºçš„å¼€å‘ä½“éªŒ |
| 2021å¹´8æœˆ | **Nuxt 3 Beta å‘å¸ƒ** | - åŸºäº Vue 3 å’Œ Vite<br>- å…¨æ–°çš„ Nitro æœåŠ¡å™¨å¼•æ“<br>- æ”¯æŒ Composition API<br>- æ›´å¥½çš„ TypeScript æ”¯æŒ |
| 2022å¹´11æœˆ | **Nuxt 3 æ­£å¼å‘å¸ƒ** | - ç”Ÿäº§å°±ç»ªçš„ç¨³å®šç‰ˆæœ¬<br>- å…¨é¢çš„ç”Ÿæ€ç³»ç»Ÿæ”¯æŒ<br>- ä¼ä¸šçº§ç‰¹æ€§å®Œå–„<br>- ç¤¾åŒºæ¨¡å—ä¸°å¯Œ |

### ğŸ”„ ä» Nuxt2 åˆ° Nuxt3 çš„æ¼”è¿›

#### æ¶æ„å±‚é¢çš„é‡å¤§å˜åŒ–

::code-group
```javascript [Nuxt2 æ¶æ„]
// nuxt.config.js - Nuxt2 é…ç½®
export default {
  mode: 'universal',

  // æ„å»ºé…ç½®
  build: {
    babel: {
      presets: ['@nuxt/babel-preset-app']
    }
  },

  // æ¨¡å—é…ç½®
  modules: [
    '@nuxtjs/axios',
    '@nuxtjs/pwa'
  ],

  // æ’ä»¶é…ç½®
  plugins: [
    '~/plugins/axios.js'
  ]
};
```

```typescript [Nuxt3 æ¶æ„]
// nuxt.config.ts - Nuxt3 é…ç½®
export default defineNuxtConfig({
  // è‡ªåŠ¨æ¨æ–­æ¨¡å¼ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

  // ç°ä»£åŒ–æ„å»ºå·¥å…·
  vite: {
    define: {
      __VUE_PROD_HYDRATION_MISMATCH_DETAILS__: false
    }
  },

  // æ¨¡å—é…ç½® - æ›´ç®€æ´
  modules: [
    '@nuxt/http',
    '@vite-pwa/nuxt'
  ],

  // è‡ªåŠ¨å¯¼å…¥ - æ— éœ€æ‰‹åŠ¨æ³¨å†Œ
  // plugins ç›®å½•ä¸‹çš„æ–‡ä»¶è‡ªåŠ¨åŠ è½½
});
```
::

#### æ€§èƒ½å¯¹æ¯”åˆ†æ

| æ€§èƒ½æŒ‡æ ‡ | Nuxt2 | Nuxt3 | æå‡å¹…åº¦ |
|----------|-------|-------|----------|
| **å†·å¯åŠ¨æ—¶é—´** | ~15s | ~3s | ğŸš€ **80%** |
| **çƒ­é‡è½½é€Ÿåº¦** | ~2s | ~200ms | ğŸ”¥ **90%** |
| **æ„å»ºé€Ÿåº¦** | åŸºå‡† | 3-5x æ›´å¿« | âš¡ **300-500%** |
| **åŒ…ä½“ç§¯** | åŸºå‡† | å‡å°‘ 20-30% | ğŸ“¦ **25%** |
| **å†…å­˜ä½¿ç”¨** | åŸºå‡† | å‡å°‘ 40% | ğŸ’¾ **40%** |

#### åŠŸèƒ½ç‰¹æ€§å¯¹æ¯”

::tabs{variant="line"}
  ::stack{label="å¼€å‘ä½“éªŒ"}
  | ç‰¹æ€§ | Nuxt2 | Nuxt3 | è¯´æ˜ |
  |------|-------|-------|------|
  | **TypeScript** | éœ€è¦é…ç½® | åŸç”Ÿæ”¯æŒ | é›¶é…ç½® TypeScript |
  | **è‡ªåŠ¨å¯¼å…¥** | æ‰‹åŠ¨å¯¼å…¥ | è‡ªåŠ¨å¯¼å…¥ | ç»„ä»¶ã€ç»„åˆå¼å‡½æ•°è‡ªåŠ¨å¯¼å…¥ |
  | **çƒ­é‡è½½** | è¾ƒæ…¢ | æå¿« | åŸºäº Vite çš„å¿«é€Ÿçƒ­é‡è½½ |
  | **å¼€å‘å·¥å…·** | åŸºç¡€ | å¼ºå¤§ | å†…ç½®å¼€å‘è€…å·¥å…· |
  ::

  ::stack{label="æ¶æ„è®¾è®¡"}
  | ç‰¹æ€§ | Nuxt2 | Nuxt3 | è¯´æ˜ |
  |------|-------|-------|------|
  | **æœåŠ¡å™¨å¼•æ“** | è‡ªå®šä¹‰ | Nitro | ç»Ÿä¸€çš„æœåŠ¡å™¨å¼•æ“ |
  | **æ„å»ºå·¥å…·** | Webpack | Vite | æ›´å¿«çš„æ„å»ºé€Ÿåº¦ |
  | **Vueç‰ˆæœ¬** | Vue 2 | Vue 3 | ç°ä»£åŒ–çš„å“åº”å¼ç³»ç»Ÿ |
  | **æ¸²æŸ“æ¨¡å¼** | é…ç½®é©±åŠ¨ | æ™ºèƒ½æ¨æ–­ | è‡ªåŠ¨ä¼˜åŒ–æ¸²æŸ“ç­–ç•¥ |
  ::

  ::stack{label="ç”Ÿæ€ç³»ç»Ÿ"}
  | ç‰¹æ€§ | Nuxt2 | Nuxt3 | è¯´æ˜ |
  |------|-------|-------|------|
  | **æ¨¡å—ç³»ç»Ÿ** | ä¼ ç»Ÿ | ç°ä»£åŒ– | æ›´å¥½çš„æ¨¡å—é›†æˆ |
  | **æ’ä»¶æœºåˆ¶** | æ‰‹åŠ¨æ³¨å†Œ | è‡ªåŠ¨å‘ç° | çº¦å®šä¼˜äºé…ç½® |
  | **ç¤¾åŒºæ”¯æŒ** | æˆç†Ÿ | å¿«é€Ÿå‘å±• | æ´»è·ƒçš„ç¤¾åŒºç”Ÿæ€ |
  | **ä¼ä¸šç‰¹æ€§** | éœ€è¦é…ç½® | å†…ç½®æ”¯æŒ | å¼€ç®±å³ç”¨çš„ä¼ä¸šç‰¹æ€§ |
  ::
::

## 1.2 Nuxt3 çš„æ ¸å¿ƒç‰¹ç‚¹ä¸ä¼˜åŠ¿

### ğŸ—ï¸ æ ¸å¿ƒæ¶æ„ç‰¹ç‚¹

#### 1. æ–‡ä»¶ç³»ç»Ÿè·¯ç”± (File-based Routing)

Nuxt3 æä¾›äº†ç›´è§‚çš„æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ï¼Œè®©è·¯ç”±é…ç½®å˜å¾—ç®€å•è‡ªç„¶ï¼š

::code-group
```text [ç›®å½•ç»“æ„]
pages/
â”œâ”€â”€ index.vue                    # â†’ /
â”œâ”€â”€ about.vue                   # â†’ /about
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ index.vue              # â†’ /blog
â”‚   â”œâ”€â”€ [slug].vue             # â†’ /blog/:slug
â”‚   â””â”€â”€ [...slug].vue          # â†’ /blog/:slug*
â”œâ”€â”€ users/
â”‚   â”œâ”€â”€ index.vue              # â†’ /users
â”‚   â”œâ”€â”€ [id].vue               # â†’ /users/:id
â”‚   â””â”€â”€ settings.vue           # â†’ /users/settings
â””â”€â”€ admin/
    â”œâ”€â”€ index.vue              # â†’ /admin
    â””â”€â”€ dashboard.vue          # â†’ /admin/dashboard
```

```vue [åŠ¨æ€è·¯ç”±ç¤ºä¾‹]
<!-- pages/blog/[slug].vue -->
<template>
  <div>
    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>
  </div>
</template>

<script setup>
// è‡ªåŠ¨è·å–è·¯ç”±å‚æ•°
const route = useRoute();
const slug = route.params.slug;

// æœåŠ¡ç«¯æ•°æ®è·å–
const { data: post } = await useFetch(`/api/posts/${slug}`);

// SEOä¼˜åŒ–
useSeoMeta({
  title: post.value.title,
  description: post.value.excerpt
});
</script>
```
::

#### 2. è‡ªåŠ¨ä»£ç åˆ†å‰² (Automatic Code Splitting)

Nuxt3 æ™ºèƒ½åœ°è¿›è¡Œä»£ç åˆ†å‰²ï¼Œä¼˜åŒ–åº”ç”¨æ€§èƒ½ï¼š

```typescript
// nuxt.config.ts - ä»£ç åˆ†å‰²é…ç½®
export default defineNuxtConfig({
  // è‡ªåŠ¨ä»£ç åˆ†å‰²é…ç½®
  experimental: {
    payloadExtraction: false // å‡å°‘ payload å¤§å°
  },

  // è·¯ç”±çº§åˆ«çš„ä¼˜åŒ–
  routeRules: {
    // é™æ€é¡µé¢é¢„æ¸²æŸ“
    '/': { prerender: true },

    // åŠ¨æ€é¡µé¢ ISR
    '/blog/**': { isr: 60 },

    // SPA æ¨¡å¼çš„ç®¡ç†é¡µé¢
    '/admin/**': { ssr: false },

    // API è·¯ç”±ç¼“å­˜
    '/api/**': {
      headers: { 'cache-control': 's-maxage=60' }
    }
  },

  // ç»„ä»¶æ‡’åŠ è½½
  components: {
    dirs: [
      {
        path: '~/components',
        pathPrefix: false,
        // å…¨å±€ç»„ä»¶è‡ªåŠ¨å¯¼å…¥
        global: true
      }
    ]
  }
});
```

#### 3. å¼ºå¤§çš„ä¸­é—´ä»¶æœºåˆ¶

Nuxt3 æä¾›äº†çµæ´»çš„ä¸­é—´ä»¶ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§ä¸­é—´ä»¶ç±»å‹ï¼š

::code-group
```typescript [è·¯ç”±ä¸­é—´ä»¶]
// middleware/auth.ts
export default defineNuxtRouteMiddleware((to, from) => {
  const user = useAuthUser();

  if (!user.value) {
    // é‡å®šå‘åˆ°ç™»å½•é¡µ
    return navigateTo('/login');
  }

  // æ£€æŸ¥æƒé™
  if (to.path.startsWith('/admin') && !user.value.isAdmin) {
    throw createError({
      statusCode: 403,
      statusMessage: 'æ— æƒè®¿é—®'
    });
  }
});
```

```typescript [æœåŠ¡å™¨ä¸­é—´ä»¶]
// server/middleware/cors.ts
export default defineEventHandler(async (event) => {
  // è®¾ç½® CORS å¤´
  setHeaders(event, {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',
    'Access-Control-Allow-Headers': 'Content-Type, Authorization'
  });

  // å¤„ç† OPTIONS è¯·æ±‚
  if (getMethod(event) === 'OPTIONS') {
    event.node.res.statusCode = 204;
    event.node.res.end();
  }
});
```

```typescript [å…¨å±€ä¸­é—´ä»¶]
// middleware/analytics.global.ts
export default defineNuxtRouteMiddleware((to) => {
  // é¡µé¢è®¿é—®ç»Ÿè®¡
  if (process.client) {
    gtag('config', 'GA_MEASUREMENT_ID', {
      page_title: to.meta.title,
      page_location: to.fullPath
    });
  }
});
```
::

#### 4. æœåŠ¡ç«¯æ¸²æŸ“ (SSR) ä¸å®¢æˆ·ç«¯æ¿€æ´» (Hydration)

Nuxt3 æä¾›äº†å®Œå–„çš„ SSR æ”¯æŒå’Œæ™ºèƒ½çš„å®¢æˆ·ç«¯æ¿€æ´»ï¼š

::code-group
```vue [SSR æ•°æ®è·å–]
<!-- pages/products/[id].vue -->
<template>
  <div>
    <ProductDetail :product="product" />
    <ProductReviews :reviews="reviews" />
  </div>
</template>

<script setup>
// æœåŠ¡ç«¯æ•°æ®è·å– - å¹¶è¡Œè¯·æ±‚
const route = useRoute();
const productId = route.params.id;

const [
  { data: product },
  { data: reviews }
] = await Promise.all([
  useFetch(`/api/products/${productId}`),
  useFetch(`/api/products/${productId}/reviews`)
]);

// SEO ä¼˜åŒ–
useSeoMeta({
  title: `${product.value.name} - å•†å“è¯¦æƒ…`,
  description: product.value.description,
  ogImage: product.value.image
});
</script>
```

```typescript [æ··åˆæ¸²æŸ“ç­–ç•¥]
// nuxt.config.ts - æ™ºèƒ½æ¸²æŸ“é…ç½®
export default defineNuxtConfig({
  nitro: {
    prerender: {
      // é¢„æ¸²æŸ“é™æ€é¡µé¢
      routes: ['/sitemap.xml', '/robots.txt']
    }
  },

  routeRules: {
    // é¦–é¡µé¢„æ¸²æŸ“
    '/': { prerender: true },

    // äº§å“é¡µé¢ ISR (å¢é‡é™æ€å†ç”Ÿ)
    '/products/**': { isr: 60 },

    // ç”¨æˆ·ä¸­å¿ƒ SPA æ¨¡å¼
    '/dashboard/**': { ssr: false },

    // API è·¯ç”±ç¼“å­˜
    '/api/**': {
      headers: { 'cache-control': 's-maxage=60' },
      cors: true
    }
  }
});
```
::

### ğŸš€ æ ¸å¿ƒä¼˜åŠ¿åˆ†æ

#### 1. å“è¶Šçš„å¼€å‘ä½“éªŒ

::card-group{cols=2}
  ::::card{icon="lucide:zap"}
  #title
  **æé€Ÿå¼€å‘**
  #description
  - åŸºäº Vite çš„å¿«é€Ÿçƒ­é‡è½½
  - è‡ªåŠ¨å¯¼å…¥å‡å°‘æ ·æ¿ä»£ç 
  - å†…ç½® TypeScript æ”¯æŒ

  ```typescript
  // æ— éœ€å¯¼å…¥ï¼Œè‡ªåŠ¨å¯ç”¨
  const user = useAuthUser();
  const router = useRouter();
  const route = useRoute();
  ```
  ::::

  ::::card{icon="lucide:brain"}
  #title
  **æ™ºèƒ½æ¨æ–­**
  #description
  - è‡ªåŠ¨ç±»å‹æ¨æ–­
  - æ™ºèƒ½è·¯ç”±ç”Ÿæˆ
  - è‡ªåŠ¨ç»„ä»¶å‘ç°

  ```vue
  <!-- è‡ªåŠ¨å¯¼å…¥ç»„ä»¶ -->
  <template>
    <UiButton @click="handleClick">
      ç‚¹å‡»æˆ‘
    </UiButton>
  </template>
  ```
  ::::
::

#### 2. å‡ºè‰²çš„æ€§èƒ½è¡¨ç°

::tabs{variant="line"}
  ::stack{label="æ„å»ºæ€§èƒ½"}
  ```bash
  # Nuxt3 æ„å»ºæ€§èƒ½ä¼˜åŠ¿

  âœ… å†·å¯åŠ¨æ—¶é—´: 3ç§’ (vs Nuxt2 çš„ 15ç§’)
  âœ… çƒ­é‡è½½é€Ÿåº¦: 200ms (vs Nuxt2 çš„ 2ç§’)
  âœ… æ„å»ºé€Ÿåº¦: æå‡ 300-500%
  âœ… å†…å­˜ä½¿ç”¨: å‡å°‘ 40%
  ```
  ::

  ::stack{label="è¿è¡Œæ—¶æ€§èƒ½"}
  ```javascript
  // æ™ºèƒ½ä»£ç åˆ†å‰²
  const LazyComponent = defineAsyncComponent(
    () => import('~/components/HeavyComponent.vue')
  );

  // è‡ªåŠ¨é¢„åŠ è½½
  const { data } = await useLazyFetch('/api/data', {
    server: false // ä»…åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ
  });
  ```
  ::

  ::stack{label="SEOä¼˜åŒ–"}
  ```vue
  <script setup>
  // è‡ªåŠ¨ SEO ä¼˜åŒ–
  useSeoMeta({
    title: 'é¡µé¢æ ‡é¢˜',
    description: 'é¡µé¢æè¿°',
    ogImage: '/og-image.jpg'
  });

  // ç»“æ„åŒ–æ•°æ®
  useJsonld({
    '@context': 'https://schema.org',
    '@type': 'WebPage',
    'name': 'é¡µé¢åç§°'
  });
  </script>
  ```
  ::
::

#### 3. ä¼ä¸šçº§ç‰¹æ€§æ”¯æŒ

::code-group
```typescript [å®‰å…¨é…ç½®]
// nuxt.config.ts - å®‰å…¨é…ç½®
export default defineNuxtConfig({
  // å®‰å…¨å¤´è®¾ç½®
  security: {
    headers: {
      contentSecurityPolicy: {
        'base-uri': ['\'self\''],
        'font-src': ['\'self\'', 'https:', 'data:'],
        'form-action': ['\'self\''],
        'frame-ancestors': ['\'none\''],
        'img-src': ['\'self\'', 'data:', 'https:'],
        'object-src': ['\'none\''],
        'script-src-attr': ['\'none\''],
        'style-src': ['\'self\'', 'https:', '\'unsafe-inline\''],
        'upgrade-insecure-requests': true
      }
    }
  },

  // CSRF ä¿æŠ¤
  csrf: {
    cookie: {
      secure: true,
      httpOnly: true,
      sameSite: 'strict'
    }
  }
});
```

```typescript [ç›‘æ§é›†æˆ]
// plugins/monitoring.client.ts
export default defineNuxtPlugin(() => {
  // æ€§èƒ½ç›‘æ§
  const { $sentry } = useNuxtApp();

  // é”™è¯¯ç›‘æ§
  $sentry.init({
    dsn: useRuntimeConfig().public.sentryDsn,
    environment: useRuntimeConfig().public.environment
  });

  // ç”¨æˆ·è¡Œä¸ºåˆ†æ
  if (process.client) {
    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
      getCLS(sendToAnalytics);
      getFID(sendToAnalytics);
      getFCP(sendToAnalytics);
      getLCP(sendToAnalytics);
      getTTFB(sendToAnalytics);
    });
  }
});
```
::

## 1.3 Nuxt3 çš„é€‚ç”¨åœºæ™¯ä¸é¡¹ç›®ç±»å‹

### ğŸ¯ é€‚ç”¨åœºæ™¯åˆ†æ

#### 1. å†…å®¹é©±åŠ¨çš„ç½‘ç«™

**å…¸å‹åº”ç”¨**: åšå®¢ã€æ–°é—»ç½‘ç«™ã€ä¼ä¸šå®˜ç½‘ã€æ–‡æ¡£ç«™ç‚¹

::code-group
```vue [åšå®¢æ–‡ç« é¡µé¢]
<!-- pages/blog/[slug].vue -->
<template>
  <article>
    <header>
      <h1>{{ post.title }}</h1>
      <time>{{ formatDate(post.publishedAt) }}</time>
    </header>

    <div v-html="post.content" />

    <footer>
      <ShareButtons :url="shareUrl" :title="post.title" />
      <RelatedPosts :posts="relatedPosts" />
    </footer>
  </article>
</template>

<script setup>
const route = useRoute();
const slug = route.params.slug;

// æœåŠ¡ç«¯æ•°æ®è·å– - SEO å‹å¥½
const { data: post } = await useFetch(`/api/posts/${slug}`);
const { data: relatedPosts } = await useFetch(`/api/posts/related/${slug}`);

// åŠ¨æ€ SEO é…ç½®
useSeoMeta({
  title: post.value.title,
  description: post.value.excerpt,
  ogTitle: post.value.title,
  ogDescription: post.value.excerpt,
  ogImage: post.value.coverImage,
  twitterCard: 'summary_large_image'
});

// ç»“æ„åŒ–æ•°æ®
useJsonld({
  '@context': 'https://schema.org',
  '@type': 'Article',
  'headline': post.value.title,
  'author': {
    '@type': 'Person',
    'name': post.value.author.name
  },
  'datePublished': post.value.publishedAt,
  'image': post.value.coverImage
});

const shareUrl = computed(() => `https://example.com/blog/${slug}`);
</script>
```

```typescript [é™æ€ç”Ÿæˆé…ç½®]
// nuxt.config.ts - åšå®¢ä¼˜åŒ–é…ç½®
export default defineNuxtConfig({
  nitro: {
    prerender: {
      routes: ['/sitemap.xml', '/rss.xml']
    }
  },

  routeRules: {
    // é¦–é¡µé¢„æ¸²æŸ“
    '/': { prerender: true },

    // åšå®¢æ–‡ç«  ISR
    '/blog/**': { isr: 3600 }, // 1å°æ—¶ç¼“å­˜

    // åˆ†ç±»é¡µé¢
    '/category/**': { isr: 1800 }, // 30åˆ†é’Ÿç¼“å­˜

    // é™æ€é¡µé¢
    '/about': { prerender: true },
    '/contact': { prerender: true }
  }
});
```
::

**ä¼˜åŠ¿**:
- ğŸš€ **æä½³çš„SEOè¡¨ç°** - æœåŠ¡ç«¯æ¸²æŸ“ç¡®ä¿æœç´¢å¼•æ“å®Œæ•´æŠ“å–
- âš¡ **å¿«é€Ÿçš„é¦–å±åŠ è½½** - é¢„æ¸²æŸ“é™æ€å†…å®¹
- ğŸ“± **å®Œç¾çš„ç§»åŠ¨ä½“éªŒ** - å“åº”å¼è®¾è®¡å’Œå¿«é€ŸåŠ è½½
- ğŸ”„ **å¢é‡é™æ€å†ç”Ÿ** - å†…å®¹æ›´æ–°æ—¶è‡ªåŠ¨é‡æ–°ç”Ÿæˆ

#### 2. ç”µå•†å¹³å°

**å…¸å‹åº”ç”¨**: åœ¨çº¿å•†åŸã€äº§å“å±•ç¤ºã€è´­ç‰©è½¦ç³»ç»Ÿ

::code-group
```vue [äº§å“è¯¦æƒ…é¡µ]
<!-- pages/products/[id].vue -->
<template>
  <div class="product-detail">
    <ProductGallery :images="product.images" />

    <div class="product-info">
      <h1>{{ product.name }}</h1>
      <div class="price">
        <span class="current-price">Â¥{{ product.price }}</span>
        <span v-if="product.originalPrice" class="original-price">
          Â¥{{ product.originalPrice }}
        </span>
      </div>

      <ProductOptions
        :options="product.options"
        @update:selection="handleOptionChange"
      />

      <AddToCartButton
        :product="product"
        :selected-options="selectedOptions"
        @add-to-cart="handleAddToCart"
      />
    </div>

    <ProductReviews :reviews="reviews" />
  </div>
</template>

<script setup>
const route = useRoute();
const productId = route.params.id;

// å¹¶è¡Œæ•°æ®è·å–
const [
  { data: product },
  { data: reviews }
] = await Promise.all([
  useFetch(`/api/products/${productId}`),
  useFetch(`/api/products/${productId}/reviews`)
]);

// è´­ç‰©è½¦åŠŸèƒ½
const { addToCart } = useCart();
const selectedOptions = ref({});

async function handleAddToCart() {
  await addToCart({
    productId: product.value.id,
    options: selectedOptions.value,
    quantity: 1
  });

  // æ˜¾ç¤ºæˆåŠŸæç¤º
  useToast().success('å·²æ·»åŠ åˆ°è´­ç‰©è½¦');
}

// ç”µå•†SEOä¼˜åŒ–
useSeoMeta({
  title: `${product.value.name} - åœ¨çº¿è´­ä¹°`,
  description: product.value.description,
  ogTitle: product.value.name,
  ogDescription: product.value.description,
  ogImage: product.value.images[0]
});

// äº§å“ç»“æ„åŒ–æ•°æ®
useJsonld({
  '@context': 'https://schema.org',
  '@type': 'Product',
  'name': product.value.name,
  'description': product.value.description,
  'image': product.value.images,
  'offers': {
    '@type': 'Offer',
    'price': product.value.price,
    'priceCurrency': 'CNY',
    'availability': 'https://schema.org/InStock'
  }
});
</script>
```

```typescript [è´­ç‰©è½¦çŠ¶æ€ç®¡ç†]
// stores/cart.ts
export const useCartStore = defineStore('cart', () => {
  const items = ref([]);
  const loading = ref(false);

  const totalItems = computed(() =>
    items.value.reduce((sum, item) => sum + item.quantity, 0)
  );

  const totalPrice = computed(() =>
    items.value.reduce((sum, item) => sum + item.price * item.quantity, 0)
  );

  const addItem = async (product) => {
    loading.value = true;
    try {
      const existingItem = items.value.find(item => item.id === product.id);

      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        items.value.push({ ...product, quantity: 1 });
      }

      // åŒæ­¥åˆ°æœåŠ¡å™¨
      await $fetch('/api/cart/add', {
        method: 'POST',
        body: product
      });
    } finally {
      loading.value = false;
    }
  };

  return {
    items,
    loading,
    totalItems,
    totalPrice,
    addItem
  };
});
```
::

#### 3. ä¼ä¸šçº§åº”ç”¨

**å…¸å‹åº”ç”¨**: ç®¡ç†åå°ã€CRMç³»ç»Ÿã€æ•°æ®åˆ†æå¹³å°

::code-group
```vue [ç®¡ç†åå°ä»ªè¡¨æ¿]
<!-- pages/admin/dashboard.vue -->
<template>
  <div class="admin-dashboard">
    <DashboardHeader :user="user" />

    <div class="dashboard-grid">
      <StatsCard
        title="æ€»ç”¨æˆ·æ•°"
        :value="stats.totalUsers"
        icon="users"
        trend="+12%"
      />

      <StatsCard
        title="æœˆæ”¶å…¥"
        :value="stats.monthlyRevenue"
        icon="dollar-sign"
        trend="+8%"
      />

      <ChartCard
        title="ç”¨æˆ·å¢é•¿è¶‹åŠ¿"
        :data="userGrowthData"
        type="line"
      />

      <RecentActivity :activities="recentActivities" />
    </div>
  </div>
</template>

<script setup>
// è·¯ç”±ä¿æŠ¤
definePageMeta({
  middleware: ['auth', 'admin']
});

// æ•°æ®è·å–
const { data: stats } = await useFetch('/api/admin/stats');
const { data: userGrowthData } = await useFetch('/api/admin/user-growth');
const { data: recentActivities } = await useFetch('/api/admin/recent-activities');

// ç”¨æˆ·ä¿¡æ¯
const user = useAuthUser();

// é¡µé¢æ ‡é¢˜
useSeoMeta({
  title: 'ç®¡ç†åå° - ä»ªè¡¨æ¿',
  robots: 'noindex, nofollow' // é˜²æ­¢æœç´¢å¼•æ“ç´¢å¼•
});
</script>
```

```typescript [æƒé™ä¸­é—´ä»¶]
// middleware/admin.ts
export default defineNuxtRouteMiddleware((to) => {
  const user = useAuthUser();

  if (!user.value?.isAdmin) {
    throw createError({
      statusCode: 403,
      statusMessage: 'éœ€è¦ç®¡ç†å‘˜æƒé™'
    });
  }
});
```
::

#### 4. AI é©±åŠ¨çš„åº”ç”¨

**å…¸å‹åº”ç”¨**: æ™ºèƒ½å®¢æœã€å†…å®¹ç”Ÿæˆã€æ•°æ®åˆ†æ

::code-group
```vue [AI èŠå¤©ç•Œé¢]
<!-- pages/ai-chat.vue -->
<template>
  <div class="ai-chat">
    <ChatHeader />

    <div ref="messagesContainer" class="chat-messages">
      <ChatMessage
        v-for="message in messages"
        :key="message.id"
        :message="message"
      />

      <div v-if="isLoading" class="typing-indicator">
        <TypingIndicator />
      </div>
    </div>

    <ChatInput
      v-model="inputMessage"
      :disabled="isLoading"
      @send="sendMessage"
    />
  </div>
</template>

<script setup>
const messages = ref([]);
const inputMessage = ref('');
const isLoading = ref(false);
const messagesContainer = ref();

async function sendMessage() {
  if (!inputMessage.value.trim())
    return;

  // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
  const userMessage = {
    id: Date.now(),
    content: inputMessage.value,
    role: 'user',
    timestamp: new Date()
  };

  messages.value.push(userMessage);
  inputMessage.value = '';
  isLoading.value = true;

  try {
    // è°ƒç”¨AI API
    const { data } = await $fetch('/api/ai/chat', {
      method: 'POST',
      body: {
        message: userMessage.content,
        history: messages.value.slice(-10) // ä¿ç•™æœ€è¿‘10æ¡æ¶ˆæ¯ä½œä¸ºä¸Šä¸‹æ–‡
      }
    });

    // æ·»åŠ AIå›å¤
    messages.value.push({
      id: Date.now() + 1,
      content: data.response,
      role: 'assistant',
      timestamp: new Date()
    });
  } catch (error) {
    console.error('AI è°ƒç”¨å¤±è´¥:', error);
    useToast().error('AI æœåŠ¡æš‚æ—¶ä¸å¯ç”¨');
  } finally {
    isLoading.value = false;

    // æ»šåŠ¨åˆ°åº•éƒ¨
    nextTick(() => {
      messagesContainer.value.scrollTop = messagesContainer.value.scrollHeight;
    });
  }
}

// é¡µé¢SEO
useSeoMeta({
  title: 'AI æ™ºèƒ½åŠ©æ‰‹',
  description: 'ä¸AIåŠ©æ‰‹å¯¹è¯ï¼Œè·å¾—æ™ºèƒ½å›ç­”å’Œå»ºè®®'
});
</script>
```

```typescript [AI æœåŠ¡ç«¯API]
// server/api/ai/chat.post.ts
import { OpenAI } from 'openai';

const openai = new OpenAI({
  apiKey: useRuntimeConfig().openaiApiKey
});

export default defineEventHandler(async (event) => {
  const { message, history } = await readBody(event);

  try {
    const completion = await openai.chat.completions.create({
      model: 'gpt-4-turbo-preview',
      messages: [
        {
          role: 'system',
          content: 'ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„AIåŠ©æ‰‹ï¼Œè¯·ç”¨ä¸­æ–‡å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚'
        },
        ...history.slice(-5), // ä¿ç•™æœ€è¿‘5æ¡å†å²æ¶ˆæ¯
        {
          role: 'user',
          content: message
        }
      ],
      max_tokens: 1000,
      temperature: 0.7
    });

    return {
      response: completion.choices[0].message.content,
      usage: completion.usage
    };
  } catch (error) {
    console.error('OpenAI API é”™è¯¯:', error);
    throw createError({
      statusCode: 500,
      statusMessage: 'AI æœåŠ¡è°ƒç”¨å¤±è´¥'
    });
  }
});
```
::
### ğŸ“Š é¡¹ç›®ç±»å‹é€‚ç”¨æ€§è¯„ä¼°

| é¡¹ç›®ç±»å‹ | é€‚ç”¨åº¦ | ä¸»è¦ä¼˜åŠ¿ | æ³¨æ„äº‹é¡¹ |
|----------|--------|----------|----------|
| **å†…å®¹ç½‘ç«™** | â­â­â­â­â­ | SEOä¼˜åŒ–ã€å¿«é€ŸåŠ è½½ã€ISRæ”¯æŒ | éœ€è¦è€ƒè™‘å†…å®¹æ›´æ–°é¢‘ç‡ |
| **ç”µå•†å¹³å°** | â­â­â­â­â­ | æ€§èƒ½ä¼˜åŒ–ã€SEOå‹å¥½ã€ç”¨æˆ·ä½“éªŒ | éœ€è¦å¤„ç†å¤æ‚çš„çŠ¶æ€ç®¡ç† |
| **ä¼ä¸šåº”ç”¨** | â­â­â­â­ | å¼€å‘æ•ˆç‡ã€ç±»å‹å®‰å…¨ã€æ¨¡å—åŒ– | å¯èƒ½éœ€è¦æ›´å¤šå®šåˆ¶åŒ–é…ç½® |
| **AIåº”ç”¨** | â­â­â­â­â­ | ç°ä»£åŒ–æ¶æ„ã€APIé›†æˆã€å®æ—¶äº¤äº’ | éœ€è¦è€ƒè™‘AIæœåŠ¡çš„ç¨³å®šæ€§ |
| **ç§»åŠ¨åº”ç”¨** | â­â­â­ | PWAæ”¯æŒã€å“åº”å¼è®¾è®¡ | åŸç”ŸåŠŸèƒ½æœ‰é™ |
| **æ¸¸æˆåº”ç”¨** | â­â­ | åŸºç¡€WebæŠ€æœ¯æ”¯æŒ | æ€§èƒ½è¦æ±‚é«˜çš„æ¸¸æˆä¸é€‚åˆ |

## ğŸ¯ é€‰æ‹© Nuxt3 çš„å†³ç­–æŒ‡å—

### âœ… æ¨èä½¿ç”¨ Nuxt3 çš„åœºæ™¯

::card-group{cols=2}
  ::::card{icon="lucide:check-circle" color="green"}
  #title
  **å¼ºçƒˆæ¨è**
  #description
  - éœ€è¦ä¼˜ç§€SEOè¡¨ç°çš„é¡¹ç›®
  - å†…å®¹é©±åŠ¨çš„ç½‘ç«™å’Œåº”ç”¨
  - ç”µå•†å’Œè¥é”€ç±»é¡¹ç›®
  - ä¼ä¸šçº§Webåº”ç”¨
  - éœ€è¦æœåŠ¡ç«¯æ¸²æŸ“çš„é¡¹ç›®
  - å›¢é˜Ÿç†Ÿæ‚‰Vueç”Ÿæ€ç³»ç»Ÿ
  ::::

  ::::card{icon="lucide:thumbs-up" color="blue"}
  #title
  **é€‚åˆä½¿ç”¨**
  #description
  - å…¨æ ˆWebåº”ç”¨å¼€å‘
  - éœ€è¦å¿«é€ŸåŸå‹å¼€å‘
  - å¤šé¡µé¢åº”ç”¨é¡¹ç›®
  - éœ€è¦è‰¯å¥½å¼€å‘ä½“éªŒçš„é¡¹ç›®
  - å¸Œæœ›ä½¿ç”¨ç°ä»£åŒ–å·¥å…·é“¾
  - éœ€è¦TypeScriptæ”¯æŒçš„é¡¹ç›®
  ::::
::

### âš ï¸ éœ€è¦è°¨æ…è€ƒè™‘çš„åœºæ™¯

::alert{icon="lucide:alert-triangle" color="yellow"}
**æ³¨æ„äº‹é¡¹**:
- **çº¯å®¢æˆ·ç«¯åº”ç”¨**: å¦‚æœä¸éœ€è¦SSRï¼Œå¯ä»¥è€ƒè™‘Vue 3 + Vite
- **æ€§èƒ½æè‡´è¦æ±‚**: å¯¹äºéœ€è¦æè‡´æ€§èƒ½çš„åº”ç”¨ï¼Œå¯èƒ½éœ€è¦æ›´åº•å±‚çš„ä¼˜åŒ–
- **ç‰¹æ®Šå¹³å°éœ€æ±‚**: å¦‚æœéœ€è¦ç‰¹å®šå¹³å°çš„åŸç”ŸåŠŸèƒ½ï¼Œå¯èƒ½éœ€è¦æ··åˆå¼€å‘æ–¹æ¡ˆ
- **å›¢é˜ŸæŠ€æœ¯æ ˆ**: å¦‚æœå›¢é˜Ÿæ›´ç†Ÿæ‚‰Reactç”Ÿæ€ï¼Œå¯ä»¥è€ƒè™‘Next.js
::

## ğŸ“‹ æ€»ç»“

é€šè¿‡æœ¬ç« å­¦ä¹ ï¼Œä½ å·²ç»å…¨é¢äº†è§£äº†ï¼š

### âœ… æ ¸å¿ƒçŸ¥è¯†ç‚¹
- **å‘å±•å†ç¨‹** - ä»Nuxt.js 1.0åˆ°Nuxt3çš„æ¼”è¿›è¿‡ç¨‹
- **æ¶æ„å‡çº§** - Nuxt3ç›¸æ¯”Nuxt2çš„é‡å¤§æ”¹è¿›
- **æ ¸å¿ƒç‰¹æ€§** - æ–‡ä»¶ç³»ç»Ÿè·¯ç”±ã€è‡ªåŠ¨ä»£ç åˆ†å‰²ã€ä¸­é—´ä»¶æœºåˆ¶ç­‰
- **æ€§èƒ½ä¼˜åŠ¿** - æ„å»ºé€Ÿåº¦ã€è¿è¡Œæ—¶æ€§èƒ½ã€å¼€å‘ä½“éªŒçš„å…¨é¢æå‡

### ğŸ¯ å®ç”¨æŠ€èƒ½
- èƒ½å¤Ÿè¯„ä¼°é¡¹ç›®æ˜¯å¦é€‚åˆä½¿ç”¨Nuxt3
- ç†è§£ä¸åŒæ¸²æŸ“æ¨¡å¼çš„é€‚ç”¨åœºæ™¯
- æŒæ¡Nuxt3çš„æ ¸å¿ƒæ¦‚å¿µå’Œä¼˜åŠ¿
- å…·å¤‡æŠ€æœ¯é€‰å‹çš„å†³ç­–èƒ½åŠ›

