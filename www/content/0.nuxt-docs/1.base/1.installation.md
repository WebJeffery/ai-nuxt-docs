---
title: Nuxt4 é¡¹ç›®æ­å»º
description: å­¦ä¹ å¦‚ä½•æ­å»ºæ ‡å‡†çš„ä¼ä¸šçº§ Nuxt4 é¡¹ç›®å¼€å‘ç¯å¢ƒï¼ŒæŒæ¡ä»ç¯å¢ƒå‡†å¤‡åˆ°é¡¹ç›®åˆå§‹åŒ–çš„å®Œæ•´æµç¨‹
icon: 'lucide:folder-plus'
---


## æ¦‚è¿°

æœ¬æ–‡ä»‹ç»å¦‚ä½•æ­å»ºä¸€ä¸ªä¼ä¸šçº§çš„ Nuxt é¡¹ç›®å¼€å‘ç¯å¢ƒã€‚

### ğŸ¯ ä¸»è¦ç›®æ ‡

- æ­å»ºæ ‡å‡†çš„ Nuxt4 ä¼ä¸šçº§å¼€å‘ç¯å¢ƒ
- é…ç½®å®Œæ•´çš„å·¥å…·é“¾å’Œå¼€å‘æµç¨‹
- å®ç°ä¼ä¸šçº§é¡¹ç›®çš„æœ€ä½³å®è·µ

### ğŸ’¡ æ ¸å¿ƒç‰¹æ€§

- **å·¥ç¨‹åŒ–**: åŸºäº TypeScript + ESLint + Prettier + Husky çš„å®Œæ•´ä»£ç è§„èŒƒä½“ç³»ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œä¸€è‡´æ€§
- **å¼€å‘æ•ˆç‡**: æ”¯æŒçƒ­é‡è½½ã€TypeScript æ™ºèƒ½æç¤ºï¼Œé›†æˆ VSCode å¼€å‘å·¥å…·é“¾
- **å¯ç»´æŠ¤æ€§**: é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ”¯æŒç»„ä»¶åŒ–å¼€å‘ï¼Œå®Œå–„çš„æ–‡æ¡£è§„èŒƒå’Œä»£ç æ³¨é‡Š
- **å¯æ‰©å±•æ€§**: æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œæ”¯æŒæ’ä»¶æ‰©å±•ï¼Œæ˜“äºé›†æˆç¬¬ä¸‰æ–¹æœåŠ¡

### ğŸ”§ æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯æ–¹æ¡ˆ | é€‰å‹ä¾æ® | æ›¿ä»£æ–¹æ¡ˆ | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|----------|----------|
| æ ¸å¿ƒæ¡†æ¶ | Nuxt4 + Vue3 | - å…¨æ ˆå¼€å‘èƒ½åŠ›<br>- çº¦å®šä¼˜äºé…ç½®<br>- å†…ç½®æœ€ä½³å®è·µ<br>- æ´»è·ƒçš„ç¤¾åŒºç”Ÿæ€ | Next.js, SvelteKit | éœ€è¦SSR/SSGçš„å¤æ‚Webåº”ç”¨ |
| å¼€å‘è¯­è¨€ | TypeScript | - ç±»å‹å®‰å…¨<br>- æ›´å¥½çš„ä»£ç ç»´æŠ¤æ€§<br>- å®Œå–„çš„IDEæ”¯æŒ | JavaScript, Flow | ä¸­å¤§å‹é¡¹ç›®ï¼Œå›¢é˜Ÿåä½œå¼€å‘ |
| çŠ¶æ€ç®¡ç† | Pinia | - è½»é‡çº§<br>- æ›´å¥½çš„TypeScriptæ”¯æŒ<br>- ç»„åˆå¼APIå‹å¥½ | Vuex, Redux | éœ€è¦å…¨å±€çŠ¶æ€ç®¡ç†çš„åº”ç”¨ |
| UI æ¡†æ¶ | TailwindCSS | - åŸå­åŒ–CSS<br>- å¿«é€ŸåŸå‹å¼€å‘<br>- é«˜åº¦å¯å®šåˆ¶ | Bootstrap, Material UI | éœ€è¦å¿«é€Ÿè¿­ä»£å’Œè‡ªå®šä¹‰æ ·å¼çš„é¡¹ç›® |
| æµ‹è¯•å·¥å…· | Vitest + Vue Test Utils | - ä¸Viteæ·±åº¦é›†æˆ<br>- å¿«é€Ÿæµ‹è¯•æ‰§è¡Œ<br>- å®Œå–„çš„Vueæµ‹è¯•æ”¯æŒ | Jest, Cypress | éœ€è¦å•å…ƒæµ‹è¯•å’Œç»„ä»¶æµ‹è¯•çš„é¡¹ç›® |
| æ„å»ºå·¥å…· | Vite | - æé€Ÿçš„å¼€å‘ä½“éªŒ<br>- åŸç”ŸESMæ”¯æŒ<br>- ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ | Webpack, Rollup | ç°ä»£å‰ç«¯é¡¹ç›®ï¼Œè¿½æ±‚å¼€å‘æ•ˆç‡ |


::alert{icon="lucide:rocket" color="blue"}
**ç›®æ ‡**: æ­å»ºä¸€ä¸ªæ ‡å‡†çš„ä¼ä¸šçº§ Nuxt4 é¡¹ç›®å¼€å‘ç¯å¢ƒï¼ŒåŒ…å«å®Œæ•´çš„å·¥å…·é“¾å’Œæœ€ä½³å®è·µé…ç½®ã€‚
::

## å¼€å‘ç¯å¢ƒå‡†å¤‡

### Node.js ç¯å¢ƒè¦æ±‚

Nuxt4 å¯¹ Node.js ç‰ˆæœ¬æœ‰ç‰¹å®šè¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„ç‰ˆæœ¬æ¥ä¿è¯é¡¹ç›®ç¨³å®šè¿è¡Œã€‚


::card-group{cols=2}
  ::::card{icon="lucide:check-circle" color="green"}
  #title
  **æ¨èç‰ˆæœ¬**
  #description
  - **Node.js 18.x LTS** (é•¿æœŸæ”¯æŒç‰ˆæœ¬)
  - **Node.js 20.x LTS** (æœ€æ–°é•¿æœŸæ”¯æŒç‰ˆæœ¬)
  - **Node.js 21.x** (æœ€æ–°ç¨³å®šç‰ˆæœ¬)
  ::::

  ::::card{icon="lucide:alert-triangle" color="yellow"}
  #title
  **æœ€ä½è¦æ±‚**
  #description
  - **Node.js 18.0.0** æˆ–æ›´é«˜ç‰ˆæœ¬
  - æ”¯æŒ ES2022+ ç‰¹æ€§
  - å†…ç½® npm 8.0+ æˆ– yarn 3.0+
  ::::
::

### Node ç‰ˆæœ¬ç®¡ç†

ä½¿ç”¨ Node ç‰ˆæœ¬ç®¡ç†å·¥å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿

  - åŒæ—¶å®‰è£…å’Œç®¡ç†å¤šä¸ª Node.js ç‰ˆæœ¬
  - å¿«é€Ÿåˆ‡æ¢ä¸åŒé¡¹ç›®æ‰€éœ€çš„ Node ç‰ˆæœ¬
  - æ”¯æŒå…¨å±€å’Œé¡¹ç›®çº§ç‰ˆæœ¬é…ç½®


::code-group
  ::code-block{label="nvm node ç‰ˆæœ¬ç®¡ç†" language="bash"}
  ```bash
  # ä½¿ç”¨ nvm ç®¡ç† Node.js ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
  # å®‰è£… nvm
  curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

  # å®‰è£…æœ€æ–°çš„ LTS ç‰ˆæœ¬
  nvm install --lts
  nvm use --lts

  # è®¾ç½®é»˜è®¤ç‰ˆæœ¬
  nvm alias default node
  ```
  ::

  ::code-block{label="ä½¿ç”¨ fnm (æ›´å¿«çš„æ›¿ä»£æ–¹æ¡ˆ)" language="bash"}
  ```bash
  # å®‰è£… fnm
  curl -fsSL https://fnm.vercel.app/install | bash

  # å®‰è£…å¹¶ä½¿ç”¨ Node.js LTS
  fnm install --lts
  fnm use lts-latest
  fnm default lts-latest
  ```
  ::

  ::code-block{label="æ£€æŸ¥å½“å‰ç‰ˆæœ¬" language="bash"}
  ```bash
  # æ£€æŸ¥ Node.js ç‰ˆæœ¬
  node --version
  # åº”è¯¥è¾“å‡ºï¼šv18.x.x æˆ–æ›´é«˜ç‰ˆæœ¬

  # æ£€æŸ¥ npm ç‰ˆæœ¬
  npm --version
  # åº”è¯¥è¾“å‡ºï¼š8.x.x æˆ–æ›´é«˜ç‰ˆæœ¬
  ```
  ::
::

::alert{icon="lucide:info" color="blue"}
**æœ€ä½³å®è·µ**: å»ºè®®åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  `.nvmrc` æ–‡ä»¶ï¼ŒæŒ‡å®šé¡¹ç›®æ‰€éœ€çš„ Node.js ç‰ˆæœ¬ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ä¸€è‡´çš„å¼€å‘ç¯å¢ƒã€‚
::

### åŒ…ç®¡ç†å™¨é€‰æ‹©

ç°ä»£å‰ç«¯å¼€å‘ä¸­ï¼ŒåŒ…ç®¡ç†å™¨çš„é€‰æ‹©ç›´æ¥å½±å“å¼€å‘æ•ˆç‡å’Œé¡¹ç›®æ€§èƒ½ã€‚æˆ‘ä»¬æ¥å¯¹æ¯”ä¸»æµçš„åŒ…ç®¡ç†å™¨ï¼š

#### 1. åŒ…ç®¡ç†å™¨å¯¹æ¯”

| ç‰¹æ€§ | npm | yarn | pnpm |
|------|-----|------|------|
| **æ€§èƒ½** | ä¸­ç­‰ | è¾ƒå¿« | æœ€å¿« |
| **ç£ç›˜å ç”¨** | è¾ƒå¤§ | è¾ƒå¤§ | æœ€å° |
| **ä¾èµ–ç®¡ç†** | æ ‡å‡† | è‰¯å¥½ | æœ€ä½³ |
| **å·¥ä½œåŒºæ”¯æŒ** | æœ‰é™ | è‰¯å¥½ | ä¼˜ç§€ |
| **ä¼ä¸šçº§ç‰¹æ€§** | åŸºç¡€ | è‰¯å¥½ | ä¼˜ç§€ |

#### 2. æ¨èé€‰æ‹©ï¼špnpm

::alert{icon="lucide:star" color="yellow"}
**ä¼ä¸šçº§æ¨è**: pnpm æ˜¯å½“å‰æœ€é€‚åˆä¼ä¸šçº§é¡¹ç›®çš„åŒ…ç®¡ç†å™¨ï¼Œå…·æœ‰å‡ºè‰²çš„æ€§èƒ½å’Œä¾èµ–ç®¡ç†èƒ½åŠ›ã€‚
::

**pnpm ä¼˜åŠ¿**ï¼š
- ğŸš€ **å®‰è£…é€Ÿåº¦å¿«** - æ¯” npm å¿« 2-3 å€
- ğŸ’¾ **èŠ‚çœç£ç›˜ç©ºé—´** - ä½¿ç”¨ç¬¦å·é“¾æ¥å…±äº«ä¾èµ–
- ğŸ”’ **ä¸¥æ ¼çš„ä¾èµ–ç®¡ç†** - é¿å…å¹½çµä¾èµ–é—®é¢˜
- ğŸ¯ **Monorepo æ”¯æŒ** - åŸç”Ÿæ”¯æŒå·¥ä½œåŒº

#### 3. åŒ…ç®¡ç†å™¨å®‰è£…

::code-group
  ::code-block{label="å®‰è£… pnpm" language="bash"}
  ```bash
  # ä½¿ç”¨ npm å®‰è£… pnpm
  npm install -g pnpm

  # æˆ–è€…ä½¿ç”¨ curl å®‰è£…
  curl -fsSL https://get.pnpm.io/install.sh | sh -

  # éªŒè¯å®‰è£…
  pnpm --version
  ```
  ::

  ::code-block{label="å®‰è£… Yarn" language="bash"}
  ```bash
  # å®‰è£… Yarn
  npm install -g yarn

  # æˆ–è€…ä½¿ç”¨ corepack (Node.js 16+)
  corepack enable
  corepack prepare yarn@stable --activate

  # éªŒè¯å®‰è£…
  yarn --version
  ```
  ::
::

### IDE é…ç½®ä¸æ¨èæ’ä»¶

#### IDE é€‰æ‹©å»ºè®®

::tabs{variant="line"}

  ::stack{label="Cursor"}
  **ä¼˜åŠ¿**:
  - åŸºäº VS Code çš„ AI ç¼–ç¨‹å·¥å…·
  - æ”¯æŒè‡ªç„¶è¯­è¨€ç¼–ç¨‹å¯¹è¯
  - ä»£ç é‡æ„å’Œä¼˜åŒ–å»ºè®®
  - æ”¯æŒç¦»çº¿ä½¿ç”¨
  - ç•Œé¢ç®€æ´ç¾è§‚
  
  **åŠ£åŠ¿**:
  - éƒ¨åˆ†åŠŸèƒ½éœ€è¦ä»˜è´¹
  - AI æ¨¡å‹å“åº”ä¸å¤Ÿç¨³å®š
  ::

  ::stack{label="VS Code"}
  **ä¼˜åŠ¿**:
  - å…è´¹å¼€æº,ç”Ÿæ€ä¸°å¯Œ
  - åŸç”Ÿæ”¯æŒ Vue 3 å’Œ TypeScript
  - è½»é‡çº§,å¯åŠ¨å¿«é€Ÿ
  - ä¸°å¯Œçš„æ’ä»¶å¸‚åœº
  - å†…ç½® Git é›†æˆ
  - æ™ºèƒ½ä»£ç æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨
  - æ”¯æŒè¿œç¨‹å¼€å‘
  
  **åŠ£åŠ¿**:
  - éƒ¨åˆ†é«˜çº§åŠŸèƒ½éœ€è¦æ’ä»¶æ”¯æŒ
  - å¤§å‹é¡¹ç›®å¯èƒ½æ€§èƒ½ç•¥å·®
  ::

  ::stack{label="WebStorm"}
  **ä¼˜åŠ¿**:
  - å¼€ç®±å³ç”¨çš„å…¨åŠŸèƒ½ IDE
  - å¼ºå¤§çš„é‡æ„å·¥å…·
  - å†…ç½®è°ƒè¯•å™¨å’Œæµ‹è¯•å·¥å…·
  - æ›´æ™ºèƒ½çš„ä»£ç åˆ†æ
  - ä¸“ä¸šçš„æŠ€æœ¯æ”¯æŒ
  
  **åŠ£åŠ¿**:
  - ä»˜è´¹è½¯ä»¶
  - èµ„æºå ç”¨è¾ƒå¤§
  - å¯åŠ¨è¾ƒæ…¢
  ::

  ::stack{label="GitHub Copilot"}
  **ä¼˜åŠ¿**:
  - AI æ™ºèƒ½ä»£ç è¡¥å…¨
  - æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€
  - å¯æ ¹æ®æ³¨é‡Šç”Ÿæˆä»£ç 
  - æä¾›ä»£ç å»ºè®®å’Œè§£é‡Š
  - ä¸ VS Code å®Œç¾é›†æˆ
  
  **åŠ£åŠ¿**:
  - éœ€è¦ä»˜è´¹è®¢é˜…
  - ä»£ç è´¨é‡ä¸ç¨³å®š
  - å¯èƒ½æ¶‰åŠç‰ˆæƒé—®é¢˜
  ::

  ::stack{label="é€šä¹‰çµç "}
  **ä¼˜åŠ¿**:
  - ä¸­æ–‡å‹å¥½çš„ AI ç¼–ç¨‹åŠ©æ‰‹
  - æ”¯æŒä»£ç ç”Ÿæˆå’Œä¼˜åŒ–
  - æä¾›ä¸­æ–‡ä»£ç è§£é‡Š
  - å…è´¹ä½¿ç”¨é¢åº¦
  - æ”¯æŒç§æœ‰åŒ–éƒ¨ç½²
  
  **åŠ£åŠ¿**:
  - ä»…æ”¯æŒé˜¿é‡Œäº‘ IDE
  - åŠŸèƒ½ç›¸å¯¹åŸºç¡€
  - ä»£ç å»ºè®®å‡†ç¡®åº¦å¾…æé«˜
  ::

  ::stack{label="CodeGeeX"}
  **ä¼˜åŠ¿**:
  - å¼€æºå…è´¹çš„ AI ç¼–ç¨‹åŠ©æ‰‹
  - æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€
  - ç¦»çº¿è¿è¡Œæ— éœ€è”ç½‘
  - ä»£ç è‡ªåŠ¨è¡¥å…¨å’Œç”Ÿæˆ
  - ä¸­è‹±åŒè¯­å¯¹è¯æ”¯æŒ
  
  **åŠ£åŠ¿**:
  - æ¨¡å‹æ•ˆæœä¸å¦‚å•†ä¸šäº§å“
  - åŠŸèƒ½ç›¸å¯¹åŸºç¡€
  - ç¤¾åŒºç”Ÿæ€å¾…å®Œå–„
  ::

  ::stack{label="Trae"}
  **ä¼˜åŠ¿**:
  - è½»é‡çº§ç¼–è¾‘å™¨
  - å¯åŠ¨é€Ÿåº¦å¿«
  - æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€
  - ç•Œé¢ç®€æ´ç›´è§‚
  - å¯æ‰©å±•æ€§å¼º
  
  **åŠ£åŠ¿**:
  - åŠŸèƒ½ç›¸å¯¹åŸºç¡€
  - æ’ä»¶ç”Ÿæ€è¾ƒå°
  - ä¼ä¸šçº§ç‰¹æ€§æ”¯æŒæœ‰é™
  - è°ƒè¯•åŠŸèƒ½è¾ƒå¼±
  ::

::

#### ä¸»è¦æ’ä»¶ä»‹ç»

::card-group{cols=2}
  ::::card{icon="logos:vue"}
  #title
  Vue Language Features (Volar)
  #description
  - Vue 3 å®˜æ–¹æ¨èçš„è¯­è¨€æœåŠ¡æ’ä»¶
  - æä¾›è¯­æ³•é«˜äº®ã€æ™ºèƒ½æç¤ºã€ä»£ç è·³è½¬ç­‰æ ¸å¿ƒåŠŸèƒ½
  - æ”¯æŒ `<script setup>` è¯­æ³•å’Œ TypeScript é›†æˆ
  ::::

  ::::card{icon="logos:typescript-icon"}
  #title
  TypeScript Vue Plugin
  #description
  - Vue çš„ TypeScript æ”¯æŒæ’ä»¶
  - æä¾› `.vue` æ–‡ä»¶çš„ç±»å‹æ£€æŸ¥
  - å¢å¼º IDE çš„ç±»å‹æ¨å¯¼èƒ½åŠ›
  ::::

  ::::card{icon="logos:tailwindcss-icon"}
  #title
  Tailwind CSS IntelliSense
  #description
  - Tailwind CSS æ™ºèƒ½æç¤º
  - è‡ªåŠ¨è¡¥å…¨æ ·å¼ç±»å
  - æ‚¬åœé¢„è§ˆæ ·å¼æ•ˆæœ
  ::::

  ::::card{icon="logos:eslint"}
  #title
  ESLint
  #description
  - ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·
  - è‡ªåŠ¨ä¿®å¤ä»£ç æ ¼å¼
  - ç¡®ä¿ä»£ç é£æ ¼ç»Ÿä¸€
  ::::

  ::::card{icon="logos:prettier"}
  #title
  Prettier
  #description
  - ä»£ç æ ¼å¼åŒ–å·¥å…·
  - æ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹
  - ä¸ ESLint é…åˆä½¿ç”¨
  ::::

  ::::card{icon="logos:git-icon"}
  #title
  GitLens
  #description
  - Git å†å²è®°å½•å¯è§†åŒ–
  - ä»£ç è¡Œçº§åˆ«çš„å˜æ›´è¿½è¸ª
  - å›¢é˜Ÿåä½œå¿…å¤‡å·¥å…·
  ::::

  ::::card{icon="logos:markdown"}
  #title
  Markdown All in One
  #description
  - Markdown è¯­æ³•æ”¯æŒ
  - å®æ—¶é¢„è§ˆåŠŸèƒ½
  - è‡ªåŠ¨ç”Ÿæˆç›®å½•
  ::::

  ::::card{icon="logos:docker-icon"}
  #title
  Docker
  #description
  - Docker å®¹å™¨ç®¡ç†
  - Dockerfile è¯­æ³•æ”¯æŒ
  - å®¹å™¨çŠ¶æ€ç›‘æ§
  ::::

  ::::card{icon="logos:postman"}
  #title
  Thunder Client
  #description
  - è½»é‡çº§ API æµ‹è¯•å·¥å…·
  - ç±»ä¼¼ Postman çš„åŠŸèƒ½
  - æ”¯æŒç¯å¢ƒå˜é‡ç®¡ç†
  ::::

  ::::card{icon="logos:jest"}
  #title
  Jest Runner
  #description
  - å•å…ƒæµ‹è¯•è¿è¡Œå·¥å…·
  - æµ‹è¯•ç»“æœå¯è§†åŒ–
  - æ”¯æŒè°ƒè¯•æµ‹è¯•ç”¨ä¾‹
  ::::
::


## åˆ›å»º Nuxt4 é¡¹ç›®

### ä½¿ç”¨è„šæ‰‹æ¶æ­å»ºé¡¹ç›®

Nuxt4 æä¾›äº†å¤šç§é¡¹ç›®åˆ›å»ºæ–¹å¼ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å®˜æ–¹è„šæ‰‹æ¶æ¥ç¡®ä¿é¡¹ç›®ç»“æ„çš„æ ‡å‡†åŒ–ã€‚

#### é¡¹ç›®åˆ›å»ºå‘½ä»¤

::code-group
  ::code-block{label="ä½¿ç”¨ pnpm (æ¨è)" language="bash"}
  ```bash
  # åˆ›å»ºæ–°é¡¹ç›®
  pnpm create nuxt@latest my-nuxt4-app

  # è¿›å…¥é¡¹ç›®ç›®å½•
  cd my-nuxt4-app

  # å®‰è£…ä¾èµ–
  pnpm install

  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  pnpm dev
  ```
  ::

  ::code-block{label="ä½¿ç”¨ npm" language="bash"}
  ```bash
  # åˆ›å»ºæ–°é¡¹ç›®
  npx create-nuxt@latest my-nuxt4-app

  # è¿›å…¥é¡¹ç›®ç›®å½•
  cd my-nuxt4-app

  # å®‰è£…ä¾èµ–
  npm install

  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  npm run dev
  ```
  ::

  ::code-block{label="ä½¿ç”¨ yarn" language="bash"}
  ```bash
  # åˆ›å»ºæ–°é¡¹ç›®
  yarn create nuxt my-nuxt4-app

  # è¿›å…¥é¡¹ç›®ç›®å½•
  cd my-nuxt4-app

  # å®‰è£…ä¾èµ–
  yarn install

  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  yarn dev
  ```
  ::
::


#### ä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿

å¯¹äºä¼ä¸šçº§é¡¹ç›®ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿ï¼š

::code-group
  ::code-block{label="Starter Templates" language="bash"}
  ```bash
  # ä½¿ç”¨ä¼ä¸šçº§æ¨¡æ¿
  npm create nuxt@latest -- -t v4 # ä½¿ç”¨ nuxt4 template

  cd my-app
  pnpm install
  ```
  ::

  ::code-block{label="create-nuxt-app" language="bash"}
  ```bash
  # ä½¿ç”¨ä¼ä¸šçº§æ¨¡æ¿
 npx create-nuxt-app <my-project>

  cd my-app
  pnpm install
  ```
  ::
::

### é¡¹ç›®ç›®å½•ç»“æ„è¯¦è§£

Nuxt4 å¼•å…¥äº†æ–°çš„ç›®å½•ç»“æ„ï¼ŒåŒæ—¶ä¿æŒä¸ä¼ ç»Ÿç»“æ„çš„å…¼å®¹æ€§ã€‚

#### 1. ä¼ ç»Ÿç›®å½•ç»“æ„

::code-group
  ::code-block{label="Nuxt 3 ä¼ ç»Ÿç»“æ„" language="text"}
  ```
  my-nuxt3-app/
  â”œâ”€â”€ assets/              # é™æ€èµ„æº
  â”‚   â”œâ”€â”€ css/
  â”‚   â”œâ”€â”€ images/
  â”‚   â””â”€â”€ fonts/
  â”œâ”€â”€ components/          # Vue ç»„ä»¶
  â”‚   â”œâ”€â”€ ui/
  â”‚   â””â”€â”€ layout/
  â”œâ”€â”€ composables/         # ç»„åˆå¼å‡½æ•°
  â”œâ”€â”€ content/            # å†…å®¹æ–‡ä»¶
  â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
  â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
  â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
  â”œâ”€â”€ plugins/            # æ’ä»¶
  â”œâ”€â”€ public/             # é™æ€æ–‡ä»¶
  â”œâ”€â”€ server/             # æœåŠ¡ç«¯ä»£ç 
  â”‚   â””â”€â”€ api/
  â”œâ”€â”€ stores/             # çŠ¶æ€ç®¡ç†
  â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
  â”œâ”€â”€ app.vue             # æ ¹ç»„ä»¶
  â”œâ”€â”€ nuxt.config.ts      # é…ç½®æ–‡ä»¶
  â””â”€â”€ package.json
  ```
  ::

  ::code-block{label="ç›®å½•è¯´æ˜" language="text"}
  ```
  # å„ç›®å½•åŠŸèƒ½è¯´æ˜
  
  assets/     - éœ€è¦æ„å»ºå¤„ç†çš„é™æ€èµ„æº
  components/ - å¯å¤ç”¨çš„ Vue ç»„ä»¶
  composables/- ç»„åˆå¼å‡½æ•°ï¼ˆè‡ªåŠ¨å¯¼å…¥ï¼‰
  content/    - å†…å®¹æ–‡ä»¶ï¼ˆæ”¯æŒ MDCï¼‰
  layouts/    - é¡µé¢å¸ƒå±€ç»„ä»¶
  middleware/ - è·¯ç”±ä¸­é—´ä»¶
  pages/      - é¡µé¢ç»„ä»¶ï¼ˆè‡ªåŠ¨è·¯ç”±ï¼‰
  plugins/    - åº”ç”¨æ’ä»¶
  public/     - é™æ€æ–‡ä»¶ï¼ˆç›´æ¥è®¿é—®ï¼‰
  server/     - æœåŠ¡ç«¯ä»£ç 
  stores/     - Pinia çŠ¶æ€ç®¡ç†
  utils/      - å·¥å…·å‡½æ•°ï¼ˆè‡ªåŠ¨å¯¼å…¥ï¼‰
  ```
  ::
::

#### 2. Nuxt4 æ–°ç›®å½•ç»“æ„

::alert{icon="lucide:folder" color="blue"}
**æ–°ç‰¹æ€§**: Nuxt4 å¼•å…¥äº† `app/` ç›®å½•ï¼Œæä¾›æ›´æ¸…æ™°çš„é¡¹ç›®ç»„ç»‡æ–¹å¼ï¼ŒåŒæ—¶ä¿æŒå‘åå…¼å®¹ã€‚
::

::code-group
  ::code-block{label="Nuxt 4 æ–°ç»“æ„" language="text"}
  ```
  my-nuxt4-app/
  â”œâ”€â”€ app/                 # åº”ç”¨æ ¸å¿ƒç›®å½• (æ–°)
  â”‚   â”œâ”€â”€ components/      # ç»„ä»¶
  â”‚   â”œâ”€â”€ composables/     # ç»„åˆå¼å‡½æ•°
  â”‚   â”œâ”€â”€ layouts/         # å¸ƒå±€
  â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
  â”‚   â”œâ”€â”€ pages/           # é¡µé¢
  â”‚   â”œâ”€â”€ plugins/         # æ’ä»¶
  â”‚   â”œâ”€â”€ stores/          # çŠ¶æ€ç®¡ç†
  â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
  â”‚   â”œâ”€â”€ app.vue          # æ ¹ç»„ä»¶
  â”‚   â””â”€â”€ router.options.ts # è·¯ç”±é…ç½®
  â”œâ”€â”€ assets/              # é™æ€èµ„æº
  â”œâ”€â”€ content/             # å†…å®¹æ–‡ä»¶
  â”œâ”€â”€ public/              # é™æ€æ–‡ä»¶
  â”œâ”€â”€ server/              # æœåŠ¡ç«¯ä»£ç 
  â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰
  â”œâ”€â”€ nuxt.config.ts       # é…ç½®æ–‡ä»¶
  â””â”€â”€ package.json
  ```
  ::

  ::code-block{label="å…¼å®¹æ€§è¯´æ˜" language="text"}
  ```
  # å…¼å®¹æ€§ç­–ç•¥
  
  1. ä¼˜å…ˆçº§ï¼šapp/ > æ ¹ç›®å½•
  2. å¯ä»¥æ··åˆä½¿ç”¨ä¸¤ç§ç»“æ„
  3. é€æ­¥è¿ç§»åˆ°æ–°ç»“æ„
  4. ç°æœ‰é¡¹ç›®æ— éœ€å¼ºåˆ¶è¿ç§»
  
  # ç¤ºä¾‹ï¼šç»„ä»¶æŸ¥æ‰¾é¡ºåº
  app/components/Button.vue     # ä¼˜å…ˆ
  components/Button.vue         # å¤‡é€‰
  
  # ç¤ºä¾‹ï¼šé¡µé¢æŸ¥æ‰¾é¡ºåº
  app/pages/index.vue           # ä¼˜å…ˆ
  pages/index.vue               # å¤‡é€‰
  ```
  ::
::

#### 3. ç›®å½•ç»“æ„æœ€ä½³å®è·µ

**ä¼ä¸šçº§é¡¹ç›®æ¨èç»“æ„**ï¼š

::code-group
  ::code-block{label="ä¼ä¸šçº§ç›®å½•ç»“æ„" language="text"}
  ```
  my-enterprise-app/
  â”œâ”€â”€ app/
  â”‚   â”œâ”€â”€ components/
  â”‚   â”‚   â”œâ”€â”€ ui/           # åŸºç¡€UIç»„ä»¶
  â”‚   â”‚   â”œâ”€â”€ form/         # è¡¨å•ç»„ä»¶
  â”‚   â”‚   â”œâ”€â”€ layout/       # å¸ƒå±€ç»„ä»¶
  â”‚   â”‚   â””â”€â”€ business/     # ä¸šåŠ¡ç»„ä»¶
  â”‚   â”œâ”€â”€ composables/
  â”‚   â”‚   â”œâ”€â”€ useAuth.ts    # è®¤è¯ç›¸å…³
  â”‚   â”‚   â”œâ”€â”€ useApi.ts     # APIç›¸å…³
  â”‚   â”‚   â””â”€â”€ useUtils.ts   # å·¥å…·å‡½æ•°
  â”‚   â”œâ”€â”€ layouts/
  â”‚   â”‚   â”œâ”€â”€ default.vue   # é»˜è®¤å¸ƒå±€
  â”‚   â”‚   â”œâ”€â”€ auth.vue      # è®¤è¯å¸ƒå±€
  â”‚   â”‚   â””â”€â”€ dashboard.vue # æ§åˆ¶å°å¸ƒå±€
  â”‚   â”œâ”€â”€ middleware/
  â”‚   â”‚   â”œâ”€â”€ auth.ts       # è®¤è¯ä¸­é—´ä»¶
  â”‚   â”‚   â””â”€â”€ admin.ts      # ç®¡ç†å‘˜ä¸­é—´ä»¶
  â”‚   â”œâ”€â”€ pages/
  â”‚   â”‚   â”œâ”€â”€ auth/         # è®¤è¯é¡µé¢
  â”‚   â”‚   â”œâ”€â”€ dashboard/    # æ§åˆ¶å°é¡µé¢
  â”‚   â”‚   â””â”€â”€ admin/        # ç®¡ç†é¡µé¢
  â”‚   â”œâ”€â”€ plugins/
  â”‚   â”‚   â”œâ”€â”€ api.client.ts # APIæ’ä»¶
  â”‚   â”‚   â””â”€â”€ auth.client.ts# è®¤è¯æ’ä»¶
  â”‚   â””â”€â”€ stores/
  â”‚       â”œâ”€â”€ auth.ts       # è®¤è¯çŠ¶æ€
  â”‚       â”œâ”€â”€ user.ts       # ç”¨æˆ·çŠ¶æ€
  â”‚       â””â”€â”€ app.ts        # åº”ç”¨çŠ¶æ€
  â”œâ”€â”€ assets/
  â”‚   â”œâ”€â”€ css/
  â”‚   â”‚   â”œâ”€â”€ main.css      # ä¸»æ ·å¼
  â”‚   â”‚   â”œâ”€â”€ components.css# ç»„ä»¶æ ·å¼
  â”‚   â”‚   â””â”€â”€ utilities.css # å·¥å…·æ ·å¼
  â”‚   â”œâ”€â”€ images/
  â”‚   â””â”€â”€ fonts/
  â”œâ”€â”€ server/
  â”‚   â”œâ”€â”€ api/
  â”‚   â”‚   â”œâ”€â”€ auth/         # è®¤è¯API
  â”‚   â”‚   â”œâ”€â”€ users/        # ç”¨æˆ·API
  â”‚   â”‚   â””â”€â”€ admin/        # ç®¡ç†API
  â”‚   â”œâ”€â”€ middleware/       # æœåŠ¡ç«¯ä¸­é—´ä»¶
  â”‚   â””â”€â”€ utils/            # æœåŠ¡ç«¯å·¥å…·
  â”œâ”€â”€ types/
  â”‚   â”œâ”€â”€ api.ts            # APIç±»å‹å®šä¹‰
  â”‚   â”œâ”€â”€ auth.ts           # è®¤è¯ç±»å‹å®šä¹‰
  â”‚   â””â”€â”€ global.ts         # å…¨å±€ç±»å‹å®šä¹‰
  â”œâ”€â”€ tests/                # æµ‹è¯•æ–‡ä»¶
  â”œâ”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
  â””â”€â”€ scripts/              # æ„å»ºè„šæœ¬
  ```
  ::

  ::code-block{label="å‘½åçº¦å®š" language="text"}
  ```
  # æ–‡ä»¶å‘½åçº¦å®š
  
  1. ç»„ä»¶æ–‡ä»¶ï¼šPascalCase
     - UserProfile.vue
     - NavigationBar.vue
  
  2. é¡µé¢æ–‡ä»¶ï¼škebab-case
     - user-profile.vue
     - product-detail.vue
  
  3. ç»„åˆå¼å‡½æ•°ï¼šcamelCase + useå‰ç¼€
     - useAuth.ts
     - useUserProfile.ts
  
  4. å·¥å…·å‡½æ•°ï¼šcamelCase
     - formatDate.ts
     - validateEmail.ts
  
  5. ç±»å‹å®šä¹‰ï¼šPascalCase
     - User.ts
     - ApiResponse.ts
  ```
  ::
::

### å¼€å‘æœåŠ¡å™¨å¯åŠ¨

#### 1. å¼€å‘æœåŠ¡å™¨å¯åŠ¨

::code-group
  ::code-block{label="åŸºæœ¬å¯åŠ¨" language="bash"}
  ```bash
  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  pnpm dev

  # æŒ‡å®šç«¯å£
  pnpm dev --port 3001

  # æŒ‡å®šä¸»æœº
  pnpm dev --host 0.0.0.0

  # å¼€å¯ HTTPS
  pnpm dev --https

  # è¯¦ç»†è¾“å‡º
  pnpm dev --verbose
  ```
  ::

  ::code-block{label="ç¯å¢ƒå˜é‡é…ç½®" language="bash"}
  ```bash
  # .env.development
  NUXT_HOST=0.0.0.0
  NUXT_PORT=3000
  NUXT_HTTPS=false
  
  # APIé…ç½®
  NUXT_PUBLIC_API_BASE=http://localhost:3001/api
  NUXT_SECRET_KEY=your-secret-key
  
  # æ•°æ®åº“é…ç½®
  DATABASE_URL=postgresql://user:pass@localhost:5432/mydb
  ```
  ::
::

#### 2. åŸºæœ¬é…ç½®æ–‡ä»¶

**nuxt.config.ts ä¼ä¸šçº§é…ç½®**:

```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  // åº”ç”¨é…ç½®
  app: {
    head: {
      charset: 'utf-8',
      viewport: 'width=device-width, initial-scale=1',
      title: 'My Nuxt4 App',
      meta: [
        { name: 'description', content: 'My awesome Nuxt 4 application' }
      ]
    }
  },

  // å¼€å‘å·¥å…·
  devtools: { 
    enabled: true,
    timeline: {
      enabled: true
    }
  },

  // TypeScript é…ç½®
  typescript: {
    typeCheck: true,
    strict: true
  },

  // CSS é…ç½®
  css: [
    '~/assets/css/main.css'
  ],

  // æ¨¡å—é…ç½®
  modules: [
    '@nuxt/eslint',
    '@nuxt/test-utils',
    '@pinia/nuxt',
    '@vueuse/nuxt',
    '@nuxtjs/tailwindcss'
  ],

  // è¿è¡Œæ—¶é…ç½®
  runtimeConfig: {
    // æœåŠ¡ç«¯ç§æœ‰é…ç½®
    secretKey: process.env.NUXT_SECRET_KEY,
    
    // å®¢æˆ·ç«¯å…¬å…±é…ç½®
    public: {
      apiBase: process.env.NUXT_PUBLIC_API_BASE || '/api'
    }
  },

  // è·¯ç”±é…ç½®
  routeRules: {
    // é™æ€é¡µé¢
    '/': { prerender: true },
    '/about': { prerender: true },
    
    // åŠ¨æ€é¡µé¢
    '/dashboard/**': { ssr: false },
    '/admin/**': { 
      ssr: false,
      index: false // ç¦æ­¢æœç´¢å¼•æ“ç´¢å¼•
    },
    
    // API è·¯ç”±
    '/api/**': { 
      cors: true,
      headers: {
        'Access-Control-Allow-Origin': '*'
      }
    }
  },

  // æ„å»ºé…ç½®
  build: {
    analyze: process.env.NODE_ENV === 'production'
  },

  // å¼€å‘æœåŠ¡å™¨é…ç½®
  devServer: {
    port: 3000,
    host: '0.0.0.0'
  }
});
```

#### 3. åŒ…ç®¡ç†é…ç½®

**package.json è„šæœ¬é…ç½®**:

```json
{
  "name": "my-nuxt4-app",
  "private": true,
  "scripts": {
    "dev": "nuxt dev",
    "build": "nuxt build",
    "preview": "nuxt preview",
    "postinstall": "nuxt prepare",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "test": "vitest",
    "test:coverage": "vitest --coverage",
    "type-check": "vue-tsc --noEmit"
  },
  "devDependencies": {
    "@nuxt/eslint": "^0.2.0",
    "@nuxt/test-utils": "^3.9.0",
    "@nuxtjs/tailwindcss": "^6.8.4",
    "@pinia/nuxt": "^0.5.1",
    "@vueuse/nuxt": "^10.5.0",
    "nuxt": "^3.8.0",
    "vitest": "^1.0.0",
    "vue-tsc": "^1.8.25"
  }
}
```

#### 4. å¼€å‘ç¯å¢ƒéªŒè¯

åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•é¡µé¢æ¥éªŒè¯ç¯å¢ƒï¼š

::code-group
  ::code-block{label="app/pages/index.vue" language="vue"}
  ```vue
  <template>
    <div class="container mx-auto p-8">
      <h1 class="text-4xl font-bold text-center mb-8">
        ğŸš€ Nuxt4 é¡¹ç›®æ­å»ºæˆåŠŸï¼
      </h1>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-semibold mb-4">
            ç¯å¢ƒä¿¡æ¯
          </h2>
          <ul class="space-y-2">
            <li><strong>Node.js:</strong> {{ nodeVersion }}</li>
            <li><strong>Nuxt:</strong> {{ nuxtVersion }}</li>
            <li><strong>Vue:</strong> {{ vueVersion }}</li>
            <li><strong>å½“å‰æ—¶é—´:</strong> {{ currentTime }}</li>
          </ul>
        </div>
        
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-semibold mb-4">
            åŠŸèƒ½æµ‹è¯•
          </h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">
                è®¡æ•°å™¨æµ‹è¯•
              </label>
              <div class="flex items-center space-x-2">
                <button 
                  @click="decrement"
                  class="px-3 py-1 bg-red-500 text-white rounded"
                >
                  -
                </button>
                <span class="px-4 py-1 bg-gray-100 rounded">
                  {{ count }}
                </span>
                <button 
                  @click="increment"
                  class="px-3 py-1 bg-green-500 text-white rounded"
                >
                  +
                </button>
              </div>
            </div>
            
            <div>
              <NuxtLink 
                to="/about" 
                class="inline-block px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
              >
                æµ‹è¯•è·¯ç”±å¯¼èˆª
              </NuxtLink>
            </div>
          </div>
        </div>
      </div>
    </div>
  </template>

  <script setup>
  // é¡µé¢å…ƒæ•°æ®
  definePageMeta({
    title: 'Nuxt4 é¡¹ç›®é¦–é¡µ',
    description: 'æ¬¢è¿ä½¿ç”¨ Nuxt4 é¡¹ç›®'
  });

  // å“åº”å¼æ•°æ®
  const count = ref(0);
  const currentTime = ref('');

  // æ–¹æ³•
  const increment = () => count.value++;
  const decrement = () => count.value--;

  // è®¡ç®—å±æ€§
  const nodeVersion = computed(() => process.version);
  const nuxtVersion = computed(() => '4.0.0');
  const vueVersion = computed(() => '3.3.0');

  // ç”Ÿå‘½å‘¨æœŸ
  onMounted(() => {
    currentTime.value = new Date().toLocaleString();
  });
  </script>
  ```
  ::

  ::code-block{label="app/pages/about.vue" language="vue"}
  ```vue
  <template>
    <div class="container mx-auto p-8">
      <h1 class="text-4xl font-bold text-center mb-8">
        å…³äºé¡µé¢
      </h1>
      
      <div class="max-w-2xl mx-auto">
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-2xl font-semibold mb-4">
            é¡¹ç›®ä¿¡æ¯
          </h2>
          <p class="text-gray-600 mb-4">
            è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Nuxt4 æ­å»ºçš„ä¼ä¸šçº§é¡¹ç›®æ¨¡æ¿ã€‚
          </p>
          
          <div class="space-y-2">
            <p><strong>æ¡†æ¶:</strong> Nuxt 4</p>
            <p><strong>UI:</strong> Tailwind CSS</p>
            <p><strong>åŒ…ç®¡ç†:</strong> pnpm</p>
            <p><strong>ä»£ç è§„èŒƒ:</strong> ESLint + Prettier</p>
          </div>
          
          <div class="mt-6">
            <NuxtLink 
              to="/" 
              class="inline-block px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
            >
              è¿”å›é¦–é¡µ
            </NuxtLink>
          </div>
        </div>
      </div>
    </div>
  </template>

  <script setup>
  definePageMeta({
    title: 'å…³äºæˆ‘ä»¬',
    description: 'äº†è§£æˆ‘ä»¬çš„é¡¹ç›®å’Œå›¢é˜Ÿ'
  });
  </script>
  ```
  ::
::

## ä»£ç è§„èŒƒé…ç½®

### ESLint é…ç½®æ­¥éª¤

#### 1. å®‰è£…ä¾èµ–

::code-group
  ::code-block{label="å®‰è£… ESLint" language="bash"}
  ```bash
  # å®‰è£… ESLint åŠç›¸å…³ä¾èµ–
  pnpm add -D eslint @nuxt/eslint-config
  
  # å®‰è£… TypeScript ESLint æ’ä»¶
  pnpm add -D @typescript-eslint/parser @typescript-eslint/eslint-plugin
  ```
  ::
::

#### 2. é…ç½®æ–‡ä»¶è¯´æ˜

ESLint é…ç½®ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ–¹é¢:

::card-group{cols=2}
  ::::card{icon="lucide:settings" color="blue"}
  #title
  åŸºç¡€é…ç½®
  #description
  - è§£æå™¨é…ç½®
  - ç¯å¢ƒé…ç½®
  - æ‰©å±•é…ç½®
  - å…¨å±€å˜é‡
  ::::

  ::::card{icon="lucide:check-circle" color="green"} 
  #title
  è§„åˆ™é…ç½®
  #description
  - Vue è§„åˆ™
  - TypeScript è§„åˆ™
  - ä»£ç é£æ ¼è§„åˆ™
  - æœ€ä½³å®è·µè§„åˆ™
  ::::

  ::::card{icon="lucide:git-branch" color="purple"}
  #title
  æ’ä»¶é…ç½®
  #description
  - Vue æ’ä»¶
  - TypeScript æ’ä»¶
  - Promise æ’ä»¶
  - Import æ’ä»¶
  ::::

  ::::card{icon="lucide:shield" color="orange"}
  #title
  å¿½ç•¥é…ç½®
  #description
  - å¿½ç•¥æ–‡ä»¶
  - å¿½ç•¥è§„åˆ™
  - å¿½ç•¥è·¯å¾„
  - ç‰¹æ®Šæ³¨é‡Š
  ::::
::

#### 3. é…ç½®ä½œç”¨è¯´æ˜

| é…ç½®é¡¹ | ä½œç”¨ | ç¤ºä¾‹ |
|--------|------|------|
| `parser` | æŒ‡å®šä»£ç è§£æå™¨ | `'vue-eslint-parser'` |
| `extends` | ç»§æ‰¿é…ç½® | `'@nuxt/eslint-config'` |
| `plugins` | å¯ç”¨æ’ä»¶ | `['@typescript-eslint']` |
| `rules` | å…·ä½“è§„åˆ™é…ç½® | `'no-console': 'warn'` |

::alert{icon="lucide:info" color="blue"}
ESLint é…ç½®å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œè°ƒæ•´,å»ºè®®éµå¾ªå›¢é˜Ÿç»Ÿä¸€çš„ä»£ç è§„èŒƒæ ‡å‡†ã€‚
::


::code-group
  ::code-block{label="åŸºç¡€é…ç½®" language="javascript"}
  ```javascript
  // eslint.config.js
  import { createConfigForNuxt } from '@nuxt/eslint-config/flat'
  
  export default createConfigForNuxt({
    // åŸºç¡€é…ç½®
    rules: {
      // Vue è§„åˆ™
      'vue/multi-word-component-names': 'off',
      'vue/no-multiple-template-root': 'off',
      'vue/attribute-hyphenation': ['error', 'always'],
      'vue/v-on-event-hyphenation': ['error', 'always'],
      
      // TypeScript è§„åˆ™
      '@typescript-eslint/no-unused-vars': 'warn',
      '@typescript-eslint/no-explicit-any': 'warn',
      '@typescript-eslint/ban-ts-comment': 'off',
      
      // é€šç”¨è§„åˆ™
      'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
      'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off'
    }
  })
  ```
  ::

  ::code-block{label="å®Œæ•´é…ç½®" language="javascript"}
  ```javascript
  // eslint.config.js
  import { createConfigForNuxt } from '@nuxt/eslint-config/flat'
  
  export default createConfigForNuxt({
    // å¯ç”¨ç‰¹æ€§
    features: {
      typescript: true,
      vue: true
    },
    
    // è§£æå™¨é€‰é¡¹
    parserOptions: {
      ecmaVersion: 'latest',
      sourceType: 'module'
    },
    
    // ç¯å¢ƒé…ç½®
    env: {
      browser: true,
      node: true,
      'vue/setup-compiler-macros': true
    },
    
    // æ‰©å±•é…ç½®
    extends: [
      'plugin:vue/vue3-recommended',
      'plugin:@typescript-eslint/recommended',
      'plugin:prettier/recommended'
    ],
    
    // è§„åˆ™é…ç½®
    rules: {
      // Vue è§„åˆ™
      'vue/multi-word-component-names': 'off',
      'vue/no-multiple-template-root': 'off',
      'vue/component-name-in-template-casing': ['error', 'PascalCase'],
      'vue/component-definition-name-casing': ['error', 'PascalCase'],
      'vue/attribute-hyphenation': ['error', 'always'],
      'vue/v-on-event-hyphenation': ['error', 'always'],
      'vue/prop-name-casing': ['error', 'camelCase'],
      'vue/require-default-prop': 'error',
      'vue/require-prop-types': 'error',
      
      // TypeScript è§„åˆ™
      '@typescript-eslint/no-unused-vars': 'warn',
      '@typescript-eslint/no-explicit-any': 'warn',
      '@typescript-eslint/ban-ts-comment': 'off',
      '@typescript-eslint/explicit-module-boundary-types': 'off',
      '@typescript-eslint/no-non-null-assertion': 'off',
      
      // é€šç”¨è§„åˆ™
      'no-console': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
      'no-debugger': process.env.NODE_ENV === 'production' ? 'warn' : 'off',
      'no-unused-vars': 'off',
      'space-before-function-paren': 'off',
      'comma-dangle': ['error', 'never']
    },
    
    // å…¨å±€å˜é‡
    globals: {
      defineProps: 'readonly',
      defineEmits: 'readonly',
      defineExpose: 'readonly',
      withDefaults: 'readonly'
    }
  })
  ```
  ::

  ::code-block{label="å®‰è£…ä¾èµ–" language="bash"}
  ```bash
  # å®‰è£… ESLint ç›¸å…³ä¾èµ–
  pnpm add -D eslint @nuxt/eslint-config
  pnpm add -D @typescript-eslint/parser @typescript-eslint/eslint-plugin
  pnpm add -D eslint-plugin-vue eslint-plugin-prettier eslint-config-prettier
  ```
  ::
::

### Prettier é…ç½®æ­¥éª¤

1. **å®‰è£… Prettier ç›¸å…³ä¾èµ–**ï¼š
   ```bash
   pnpm add -D prettier eslint-plugin-prettier eslint-config-prettier
   ```

2. **é…ç½® ESLint é›†æˆ**ï¼š
   åœ¨ `.eslintrc.js` ä¸­æ·»åŠ  Prettier æ’ä»¶å’Œé…ç½®ï¼š
   ```javascript
   module.exports = {
     extends: [
       // å…¶ä»–é…ç½®
       'plugin:prettier/recommended' // å¿…é¡»æ”¾åœ¨æœ€å
     ],
     plugins: ['prettier'],
     rules: {
       'prettier/prettier': 'error' // å°† Prettier è§„åˆ™ä½œä¸º ESLint é”™è¯¯
     }
   }
   ```

3. **åˆ›å»º Prettier é…ç½®æ–‡ä»¶**ï¼š
   åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.prettierrc` æ–‡ä»¶ï¼Œé…ç½®æ ¼å¼åŒ–è§„åˆ™ã€‚

4. **é…ç½®ç¼–è¾‘å™¨**ï¼š
   - åœ¨ VSCode ä¸­å®‰è£… Prettier æ’ä»¶
   - è®¾ç½® `"editor.formatOnSave": true`
   - è®¾ç½®é»˜è®¤æ ¼å¼åŒ–å·¥å…·ä¸º Prettier

#### é…ç½®è¯´æ˜

- **eslint-plugin-prettier**ï¼šå°† Prettier ä½œä¸º ESLint è§„åˆ™è¿è¡Œ
- **eslint-config-prettier**ï¼šç¦ç”¨ä¸ Prettier å†²çªçš„ ESLint è§„åˆ™
- **plugin:prettier/recommended**ï¼šå¯ç”¨æ¨èçš„ Prettier é…ç½®
- **prettier/prettier**: 'error'ï¼šå°† Prettier æ ¼å¼åŒ–é—®é¢˜ä½œä¸º ESLint é”™è¯¯


**Prettier é…ç½®**:

::code-group
  ::code-block{label="Prettier é…ç½®" language="json"}
  ```json
  // .prettierrc
  {
    "semi": true,
    "singleQuote": true,
    "tabWidth": 2,
    "trailingComma": "es5", 
    "printWidth": 80,
    "bracketSpacing": true,
    "arrowParens": "avoid",
    "endOfLine": "lf",
    "htmlWhitespaceSensitivity": "css",
    "insertPragma": false,
    "bracketSameLine": false,
    "jsxSingleQuote": false,
    "proseWrap": "preserve",
    "quoteProps": "as-needed",
    "requirePragma": false,
    "useTabs": false,
    "vueIndentScriptAndStyle": false
  }
  ```
  ::

  ::code-block{label="å®Œæ•´é…ç½®" language="json"}
  ```json
  // .prettierrc
  {
    // åŸºç¡€é…ç½®
    "semi": true,                 // è¯­å¥æœ«å°¾ä½¿ç”¨åˆ†å·
    "singleQuote": true,         // ä½¿ç”¨å•å¼•å·
    "tabWidth": 2,               // ç¼©è¿›å®½åº¦2ä¸ªç©ºæ ¼
    "printWidth": 80,            // æ¯è¡Œä»£ç æœ€å¤§é•¿åº¦
    "trailingComma": "es5",      // ES5ä¸­æœ‰æ•ˆçš„å°¾éšé€—å·
    
    // æ ¼å¼åŒ–é…ç½®
    "bracketSpacing": true,      // å¯¹è±¡å­—é¢é‡ä¸­æ‹¬å·å†…éƒ¨ä½¿ç”¨ç©ºæ ¼
    "arrowParens": "avoid",      // ç®­å¤´å‡½æ•°å•å‚æ•°æ—¶çœç•¥æ‹¬å·
    "endOfLine": "lf",           // ä½¿ç”¨ LF ä½œä¸ºè¡Œç»“æŸç¬¦
    
    // Vue ç›¸å…³é…ç½®
    "vueIndentScriptAndStyle": false,  // ä¸ç¼©è¿› Vue æ–‡ä»¶ä¸­çš„ script å’Œ style æ ‡ç­¾
    
    // HTML ç›¸å…³é…ç½®
    "htmlWhitespaceSensitivity": "css", // æ ¹æ®æ˜¾ç¤ºæ ·å¼å†³å®š html è¦ä¸è¦æŠ˜è¡Œ
    "bracketSameLine": false,           // æ ‡ç­¾çš„å³å°–æ‹¬å·ä¸è·Ÿéšåœ¨æœ€åä¸€è¡Œ
    
    // å…¶ä»–é…ç½®
    "jsxSingleQuote": false,     // JSX ä¸­ä½¿ç”¨åŒå¼•å·
    "proseWrap": "preserve",     // ä¸è‡ªåŠ¨æ¢è¡Œ
    "quoteProps": "as-needed",   // å¯¹è±¡å±æ€§å¼•å·ä»…åœ¨éœ€è¦æ—¶ä½¿ç”¨
    "requirePragma": false,      // ä¸éœ€è¦æ–‡ä»¶é¡¶éƒ¨çš„ç‰¹æ®Šæ³¨é‡Šå³å¯æ ¼å¼åŒ–
    "insertPragma": false,       // ä¸è‡ªåŠ¨æ’å…¥ @format æ ‡è®°
    "useTabs": false            // ä½¿ç”¨ç©ºæ ¼è€Œä¸æ˜¯ tab ç¼©è¿›
  }
  ```
  ::

  ::code-block{label="å®‰è£…ä¾èµ–" language="bash"}
  ```bash
  # å®‰è£… Prettier
  pnpm add -D prettier
  ```
  ::
::

### Husky + CommitLint é…ç½®

ä¸ºäº†è§„èŒƒä»£ç æäº¤æµç¨‹,æˆ‘ä»¬éœ€è¦é…ç½® Husky å’Œ CommitLintã€‚

#### 1. å®‰è£…ä¾èµ–

::code-group
  ::code-block{label="å®‰è£… Husky" language="bash"}
  ```bash
  # å®‰è£… husky å’Œ lint-staged
  pnpm add -D husky lint-staged
  
  # åˆå§‹åŒ– husky
  pnpm dlx husky-init && pnpm install
  
  # åˆ›å»º git hooks
  pnpm husky install
  ```
  ::

  ::code-block{label="å®‰è£… CommitLint" language="bash"}
  ```bash
  # å®‰è£… commitlint
  pnpm add -D @commitlint/config-conventional @commitlint/cli
  
  # æ·»åŠ  commit-msg hook
  pnpm husky add .husky/commit-msg 'npx --no -- commitlint --edit "$1"'
  ```
  ::
::

#### 2. é…ç½®æ–‡ä»¶

::code-group
  ::code-block{label="commitlint.config.js" language="javascript"}
  ```javascript
  module.exports = {
    extends: ['@commitlint/config-conventional'],
    rules: {
      'type-enum': [
        2,
        'always',
        [
          'feat',     // æ–°åŠŸèƒ½
          'fix',      // Bugä¿®å¤
          'docs',     // æ–‡æ¡£æ›´æ–°
          'style',    // ä»£ç æ ¼å¼(ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)
          'refactor', // é‡æ„(æ—¢ä¸æ˜¯å¢åŠ featureï¼Œä¹Ÿä¸æ˜¯ä¿®å¤bug)
          'perf',     // æ€§èƒ½ä¼˜åŒ–
          'test',     // å¢åŠ æµ‹è¯•
          'chore',    // æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
          'revert',   // å›é€€
          'build',    // æ‰“åŒ…
          'ci'        // CIç›¸å…³å˜æ›´
        ]
      ],
      'type-case': [2, 'always', 'lower-case'],     // typeå¿…é¡»å°å†™
      'type-empty': [2, 'never'],                   // typeä¸èƒ½ä¸ºç©º
      'scope-empty': [0],                           // scopeå¯ä»¥ä¸ºç©º
      'subject-empty': [2, 'never'],                // subjectä¸èƒ½ä¸ºç©º
      'subject-full-stop': [2, 'never', '.'],       // subjectç»“å°¾ä¸åŠ '.'
      'header-max-length': [2, 'always', 72]        // headeræœ€é•¿72å­—ç¬¦
    }
  };
  ```
  ::

  ::code-block{label=".lintstagedrc.js" language="javascript"}
  ```javascript
  module.exports = {
    '*.{js,jsx,ts,tsx,vue}': [
      'eslint --fix',
      'prettier --write'
    ],
    '*.{css,scss,less,styl}': [
      'stylelint --fix',
      'prettier --write'
    ],
    '*.{json,md,yml}': [
      'prettier --write'
    ]
  };
  ```
  ::

  ::code-block{label="package.json scripts" language="json"}
  ```json
  {
    "scripts": {
      "prepare": "husky install",
      "lint-staged": "lint-staged",
      "commit": "git-cz"
    }
  }
  ```
  ::
::

#### 3. Git Hooks é…ç½®

::code-group
  ::code-block{label=".husky/pre-commit" language="bash"}
  ```bash
  #!/bin/sh
  . "$(dirname "$0")/_/husky.sh"

  pnpm lint-staged
  ```
  ::

  ::code-block{label=".husky/commit-msg" language="bash"}
  ```bash
  #!/bin/sh
  . "$(dirname "$0")/_/husky.sh"

  npx --no -- commitlint --edit "$1"
  ```
  ::
::

::alert{icon="lucide:info" color="blue"}
æäº¤è§„èŒƒè¯´æ˜:
- **feat**: æ–°åŠŸèƒ½
- **fix**: Bugä¿®å¤
- **docs**: æ–‡æ¡£æ›´æ–°
- **style**: ä»£ç æ ¼å¼è°ƒæ•´
- **refactor**: ä»£ç é‡æ„
- **perf**: æ€§èƒ½ä¼˜åŒ–
- **test**: æµ‹è¯•ç›¸å…³
- **chore**: æ„å»º/å·¥å…·ç›¸å…³
- **revert**: ä»£ç å›é€€
::

### æœ€ä½³å®è·µ

1. **æ‰§è¡Œé¡ºåº**ï¼šå…ˆè¿è¡Œ ESLint å†è¿è¡Œ Prettier
2. **Git Hooks**ï¼šå»ºè®®åœ¨ pre-commit é’©å­ä¸­è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
3. **å›¢é˜Ÿç»Ÿä¸€**ï¼šç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç›¸åŒçš„ Prettier é…ç½®
4. **IDE é…ç½®**ï¼šå»ºè®®åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  `.vscode/settings.json` æ¥ç»Ÿä¸€ç¼–è¾‘å™¨é…ç½®
